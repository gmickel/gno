# Document metadata extraction & temporal queries

## Description

Add metadata extraction during indexing to enable smart queries like 'documents I wrote this week'.

## Feature Scope

### 1. Metadata Extraction (Ingestion)

- Extract file timestamps: mtime, ctime, indexed_at
- Auto-generate categories/tags via LLM (optional, configurable)
- Parse frontmatter metadata from markdown (tags, author, date)
- Store content type hints (code, prose, notes, meeting, etc.)

### 2. Schema Changes

- Add `document_metadata` table or columns:
  - created_at (file ctime)
  - modified_at (file mtime)
  - indexed_at (timestamp)
  - categories (JSON array)
  - tags (JSON array)
  - content_type (enum: prose, code, notes, etc.)
  - author (optional, from git or frontmatter)

### 3. Smart Query Expansion

- Temporal expansions: 'this week', 'last month', 'recent', 'today'
- Category filters: 'meeting notes', 'code documentation'
- Example queries:
  - 'documents I wrote this week' → mtime > now-7d
  - 'recent meeting notes' → category=meeting AND mtime > now-30d
  - 'old project specs' → content_type=spec AND mtime < now-6mo

### 4. CLI/API Integration

- New flags: --since, --until, --category, --tag
- Filter support in search/query commands
- Faceted results showing category/date distribution

## Design Considerations

- LLM categorization should be opt-in (cost/speed)
- Fall back to rule-based categorization (file extensions, paths)
- Git integration for author detection (optional)
- Respect user privacy - no cloud metadata extraction

## Acceptance Criteria

- [ ] Implementation complete
- [ ] Tests passing
- [ ] Documentation updated
