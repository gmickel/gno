{"id":"gno-0ux","title":"Fix EPIC 6 type errors in llm subsystem","description":"Typecheck fails on EPIC 6 llm code. Pre-existing issues:\n\n- cache.ts: string | undefined not assignable to string\n- cache.ts: Property 'type' doesn't exist on progress status\n- embedding.ts: createEmbeddingContext doesn't exist on Promise\u003cLlamaModel\u003e\n- embedding.ts: unknown[] not assignable to number[]\n- generation.ts: stopGenerationTrigger not in LLamaChatPromptOptions\n- rerank.ts: string | undefined not assignable to string\n- registry.ts: undefined not assignable to ModelPreset\n- Various test files need type guards\n\nThese block CI and need fixing before merge.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-25T00:08:36.215549+01:00","updated_at":"2025-12-25T00:16:54.584526+01:00","closed_at":"2025-12-25T00:16:54.584526+01:00","close_reason":"All type errors fixed and merged in PR #5","dependencies":[{"issue_id":"gno-0ux","depends_on_id":"gno-v8w","type":"parent-child","created_at":"2025-12-27T11:24:11.310725+01:00","created_by":"daemon"}]}
{"id":"gno-2yb","title":"EPIC: Packaging \u0026 Release","description":"# Packaging \u0026 Release\n\nDistribution, versioning, and release automation for GNO.\n\n## Tracks\n- npm packaging (bunx gno, npm install -g)\n- Release automation (GitHub Actions, changelogs)\n- Future: Homebrew, compiled binaries\n\n## Completed\n- T12.1: npm packaging basics ✓\n- T12.1a: Quickstart docs ✓\n- T12.3: Troubleshooting docs ✓\n\n## Remaining\n- T12.2: Release automation, versioning, changelog\n\n## Related\nSee gno-quw epic for advanced distribution (compiled binaries, Homebrew, Scoop, winget).","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-29T02:18:17.160272+01:00","updated_at":"2025-12-29T02:18:17.160272+01:00"}
{"id":"gno-3qp","title":"EPIC 10: MCP server (stdio)","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-23T14:51:03.964582+01:00","updated_at":"2025-12-23T14:51:03.964582+01:00","dependencies":[{"issue_id":"gno-3qp","depends_on_id":"gno-h7i","type":"blocks","created_at":"2025-12-23T14:53:28.165572+01:00","created_by":"daemon"},{"issue_id":"gno-3qp","depends_on_id":"gno-n5m","type":"blocks","created_at":"2025-12-23T14:53:28.809445+01:00","created_by":"daemon"}],"comments":[{"id":1,"issue_id":"gno-3qp","author":"gordon","text":"Spec: spec/mcp.md defines all MCP tools, resources, schemas. Validate against spec/output-schemas/*.json","created_at":"2025-12-23T15:14:54Z"},{"id":24,"issue_id":"gno-3qp","author":"gordon","text":"**Dependencies:**\n```bash\nbun add @modelcontextprotocol/sdk zod\n```\n\n**File structure:**\n- `src/mcp/server.ts` - McpServer setup + transport\n- `src/mcp/tools/` - Tool handlers (search, vsearch, get, etc.)\n- `src/mcp/resources/` - Resource handlers\n- `src/cli/mcp.ts` - `gno mcp` command entry point\n\n**SDK imports:**\n```typescript\nimport { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';\nimport { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';\nimport { z } from 'zod';\n```\n\nGitHub: https://github.com/modelcontextprotocol/typescript-sdk","created_at":"2025-12-30T14:51:10Z"}]}
{"id":"gno-3qp.1","title":"T10.1: MCP server skeleton","description":"gno mcp starts stdio MCP server. Keep DB open for server lifetime. Reference: docs/prd.md §16.1.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:51.968739+01:00","updated_at":"2025-12-23T14:51:51.968739+01:00","dependencies":[{"issue_id":"gno-3qp.1","depends_on_id":"gno-3qp","type":"parent-child","created_at":"2025-12-23T14:51:51.96968+01:00","created_by":"daemon"}],"comments":[{"id":20,"issue_id":"gno-3qp.1","author":"gordon","text":"**MCP SDK Implementation Guide:**\n\n```typescript\nimport { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';\nimport { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';\n\nconst server = new McpServer({\n  name: 'gno',\n  version: '0.x.x',\n  capabilities: { tools: {}, resources: {} }\n});\n\n// Register tools before connecting\nserver.tool('gno.search', { query: z.string() }, async (args) =\u003e ({ content: [...] }));\n\n// Start stdio transport  \nconst transport = new StdioServerTransport();\nawait server.connect(transport);\n```\n\nKey notes:\n- Use `McpServer` (high-level) over raw `Server` class\n- StdioServerTransport handles JSON-RPC over stdin/stdout\n- Keep DB connection open for server lifetime (reuse across calls)\n- Server stays running until client disconnects","created_at":"2025-12-30T14:50:53Z"}]}
{"id":"gno-3qp.2","title":"T10.2: Implement MCP tools (gno.search/vsearch/query/get/multi_get/status)","description":"Tools return content[] (human-readable) + structuredContent (machine-readable matching schemas). isError on failures. Include source.absPath always. Reference: docs/prd.md §16.3.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:53.20396+01:00","updated_at":"2025-12-23T14:51:53.20396+01:00","dependencies":[{"issue_id":"gno-3qp.2","depends_on_id":"gno-3qp","type":"parent-child","created_at":"2025-12-23T14:51:53.204874+01:00","created_by":"daemon"},{"issue_id":"gno-3qp.2","depends_on_id":"gno-3qp.1","type":"blocks","created_at":"2025-12-23T14:54:02.116998+01:00","created_by":"daemon"}],"comments":[{"id":21,"issue_id":"gno-3qp.2","author":"gordon","text":"**Tool Implementation Pattern:**\n\n```typescript\n// Each tool takes inputSchema (Zod) and returns CallToolResult\nserver.tool(\n  'gno.search',\n  'Full-text search across indexed files',\n  { \n    query: z.string().describe('Search query'),\n    limit: z.number().optional().describe('Max results')\n  },\n  async ({ query, limit }) =\u003e {\n    try {\n      const results = await search(db, query, { limit });\n      return {\n        content: [{ type: 'text', text: formatResults(results) }],\n        structuredContent: { results, meta: { ... } }, // Optional machine-readable\n        isError: false\n      };\n    } catch (e) {\n      return { content: [{ type: 'text', text: e.message }], isError: true };\n    }\n  }\n);\n```\n\nTools to implement:\n- `gno.search` - text search\n- `gno.vsearch` - vector/semantic search  \n- `gno.query` - raw SQL (advanced)\n- `gno.get` - fetch single doc by path/id\n- `gno.multi_get` - batch fetch\n- `gno.status` - index stats\n\nEach tool: validate input → call existing service functions → format CallToolResult","created_at":"2025-12-30T14:50:54Z"}]}
{"id":"gno-3qp.3","title":"T10.3: Implement resource reads for gno:// URIs","description":"Resources return text/markdown mirror content. Optional comment header with uri, source path, mime, docid, language. Line numbers default ON. URL-encode special chars but preserve slashes. Reference: docs/prd.md §16.2 and §16.4.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:54.786559+01:00","updated_at":"2025-12-23T14:51:54.786559+01:00","dependencies":[{"issue_id":"gno-3qp.3","depends_on_id":"gno-3qp","type":"parent-child","created_at":"2025-12-23T14:51:54.787386+01:00","created_by":"daemon"},{"issue_id":"gno-3qp.3","depends_on_id":"gno-3qp.2","type":"blocks","created_at":"2025-12-23T14:54:03.152773+01:00","created_by":"daemon"}],"comments":[{"id":22,"issue_id":"gno-3qp.3","author":"gordon","text":"**Resource Implementation Pattern:**\n\n```typescript\n// Static resource for docs\nserver.resource(\n  'gno://stats',\n  'gno://stats',\n  async (uri) =\u003e ({\n    contents: [{ uri: uri.href, mimeType: 'application/json', text: JSON.stringify(stats) }]\n  })\n);\n\n// Resource template for dynamic URIs\nserver.resource(\n  'gno://doc/{path}',\n  new ResourceTemplate('gno://doc/{path}', { list: listDocs }),\n  async (uri, { path }) =\u003e ({\n    contents: [{ uri: uri.href, mimeType: getMime(path), text: await readDoc(path) }]\n  })\n);\n```\n\nResources URIs:\n- `gno://stats` - index statistics\n- `gno://doc/{path}` - retrieve indexed document\n- `gno://search/{query}` - search results as resource\n\nNote: Resources are read-only, tools are for actions","created_at":"2025-12-30T14:50:57Z"}]}
{"id":"gno-3qp.4","title":"T10.4: MCP contract tests (golden tool calls)","description":"Golden tests for MCP tool calls. Validate against spec/mcp.md and output schemas. Reference: docs/prd.md §22 EPIC 10.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:56.351605+01:00","updated_at":"2025-12-23T14:51:56.351605+01:00","dependencies":[{"issue_id":"gno-3qp.4","depends_on_id":"gno-3qp","type":"parent-child","created_at":"2025-12-23T14:51:56.35245+01:00","created_by":"daemon"},{"issue_id":"gno-3qp.4","depends_on_id":"gno-3qp.2","type":"blocks","created_at":"2025-12-23T14:54:04.002185+01:00","created_by":"daemon"}],"comments":[{"id":23,"issue_id":"gno-3qp.4","author":"gordon","text":"**Contract Testing with MCP SDK:**\n\n```typescript\nimport { Client } from '@modelcontextprotocol/sdk/client/index.js';\nimport { InMemoryTransport } from '@modelcontextprotocol/sdk/inMemory.js';\n\ntest('gno.search returns valid schema', async () =\u003e {\n  const [clientTransport, serverTransport] = InMemoryTransport.createLinkedPair();\n  \n  // Connect server and client\n  await server.connect(serverTransport);\n  const client = new Client({ name: 'test', version: '1.0' });\n  await client.connect(clientTransport);\n  \n  // Call tool\n  const result = await client.callTool({ name: 'gno.search', arguments: { query: 'test' } });\n  \n  // Validate against JSON schema\n  expect(validate(result.structuredContent, searchResultSchema)).toBe(true);\n});\n```\n\nTest categories:\n- Tool input validation (bad args → isError)\n- Tool output schema compliance\n- Resource URI resolution\n- Error handling (missing docs, invalid queries)\n- Golden file tests (snapshot tool responses)","created_at":"2025-12-30T14:50:58Z"}]}
{"id":"gno-40i","title":"search.ts N+1 + linear scan optimization (deferred from gno-o0u)","description":"## Plan: Linear Scan Optimization (O(n) → O(1))\n\n### Overview\nEliminate O(n) `.find()` scans in 4 pipeline files by pre-indexing chunks with Map after batch fetch. **Also migrate search.ts from per-hash getChunks() to getChunksBatch() for consistency.**\n\n### Approach\nAfter `getChunksBatch()` returns `Map\u003cstring, ChunkRow[]\u003e`, create a lookup factory that encapsulates the cache:\n\n```typescript\n// Factory pattern - cache belongs to chunksMap instance, not module\nexport function createChunkLookup(\n  chunksMap: Map\u003cstring, ChunkRow[]\u003e\n): (hash: string, seq: number) =\u003e ChunkRow | undefined {\n  const indexCache = new Map\u003cstring, Map\u003cnumber, ChunkRow\u003e\u003e();\n  \n  return (hash: string, seq: number): ChunkRow | undefined =\u003e {\n    let bySeq = indexCache.get(hash);\n    if (!bySeq) {\n      const chunks = chunksMap.get(hash) ?? [];\n      bySeq = new Map\u003cnumber, ChunkRow\u003e();\n      // First-wins semantics (preserve .find() behavior)\n      for (const ch of chunks) {\n        if (!bySeq.has(ch.seq)) bySeq.set(ch.seq, ch);\n      }\n      indexCache.set(hash, bySeq);\n    }\n    return bySeq.get(seq);\n  };\n}\n\n// Usage in pipeline:\nconst chunksMap = await store.getChunksBatch(hashes);\nconst getChunk = createChunkLookup(chunksMap.value);\nconst chunk = getChunk(candidate.mirrorHash, candidate.seq);\n```\n\n### Key Design Decisions\n1. **Index once per hash** - via lazy cache, not per-lookup Map construction\n2. **First-wins semantics** - preserve `.find()` behavior for degenerate duplicate seq cases\n3. **Shared helper** - single factory in `src/pipeline/chunk-lookup.ts` to prevent divergence\n4. **Per-search cache** - factory pattern ensures cache is scoped to chunksMap instance, preventing cross-query leakage\n\n### Scope\n1. **Create helper**: `src/pipeline/chunk-lookup.ts` with `createChunkLookup(chunksMap)`\n2. **Replace .find() in 4 files**:\n   - hybrid.ts:415\n   - vsearch.ts:115\n   - rerank.ts:144\n   - search.ts:180\n3. **Migrate search.ts to getChunksBatch()** (lines 167-182) - required, not optional\n\n### Risks\n- Memory: ~40 bytes per chunk pointer (negligible for typical result sizes)\n- Map build is O(n) per hash; benefit comes from reuse across many lookups per search\n\n### Acceptance\n- [ ] `src/pipeline/chunk-lookup.ts` created with factory pattern\n- [ ] All `.find((c) =\u003e c.seq ===` replaced with getChunk()\n- [ ] search.ts migrated from getChunks() to getChunksBatch()\n- [ ] Tests pass (`bun test`)\n- [ ] Lint passes (`bun run lint`)\n- [ ] No functional changes (same results, first-wins preserved)\n\n### References\n- PR #12: perf(pipeline): N+1 chunk query optimization\n- plans/vsearch-n1-query-optimization.md\n- Types: src/store/types.ts:123-133 (ChunkRow)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-27T23:38:25.067036+01:00","updated_at":"2025-12-28T01:01:23.400036+01:00","closed_at":"2025-12-28T01:01:23.400036+01:00","close_reason":"Implemented O(1) chunk lookup, migrated search.ts to getChunksBatch(), added unit tests and N+1 guard"}
{"id":"gno-40i.1","title":"hybrid.ts: replace .find() with Map lookup at line 415","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T00:12:11.045693+01:00","updated_at":"2025-12-28T01:01:17.079785+01:00","closed_at":"2025-12-28T01:01:17.079785+01:00","close_reason":"Implemented and tested","dependencies":[{"issue_id":"gno-40i.1","depends_on_id":"gno-40i","type":"parent-child","created_at":"2025-12-28T00:12:11.059031+01:00","created_by":"daemon"},{"issue_id":"gno-40i.1","depends_on_id":"gno-40i.6","type":"blocks","created_at":"2025-12-28T00:17:53.607586+01:00","created_by":"daemon"}]}
{"id":"gno-40i.2","title":"vsearch.ts: replace .find() with Map lookup at line 115","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T00:12:12.512175+01:00","updated_at":"2025-12-28T01:01:17.085729+01:00","closed_at":"2025-12-28T01:01:17.085729+01:00","close_reason":"Implemented and tested","dependencies":[{"issue_id":"gno-40i.2","depends_on_id":"gno-40i","type":"parent-child","created_at":"2025-12-28T00:12:12.517541+01:00","created_by":"daemon"},{"issue_id":"gno-40i.2","depends_on_id":"gno-40i.6","type":"blocks","created_at":"2025-12-28T00:17:53.767449+01:00","created_by":"daemon"}]}
{"id":"gno-40i.3","title":"rerank.ts: replace .find() with Map lookup at line 144","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T00:12:13.695684+01:00","updated_at":"2025-12-28T01:01:17.089759+01:00","closed_at":"2025-12-28T01:01:17.089759+01:00","close_reason":"Implemented and tested","dependencies":[{"issue_id":"gno-40i.3","depends_on_id":"gno-40i","type":"parent-child","created_at":"2025-12-28T00:12:13.704096+01:00","created_by":"daemon"},{"issue_id":"gno-40i.3","depends_on_id":"gno-40i.6","type":"blocks","created_at":"2025-12-28T00:17:53.941287+01:00","created_by":"daemon"}]}
{"id":"gno-40i.4","title":"search.ts: replace .find() with Map lookup at line 180","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T00:12:14.855728+01:00","updated_at":"2025-12-28T01:01:17.094408+01:00","closed_at":"2025-12-28T01:01:17.094408+01:00","close_reason":"Implemented and tested","dependencies":[{"issue_id":"gno-40i.4","depends_on_id":"gno-40i","type":"parent-child","created_at":"2025-12-28T00:12:14.862209+01:00","created_by":"daemon"},{"issue_id":"gno-40i.4","depends_on_id":"gno-40i.6","type":"blocks","created_at":"2025-12-28T00:17:54.094797+01:00","created_by":"daemon"},{"issue_id":"gno-40i.4","depends_on_id":"gno-40i.7","type":"blocks","created_at":"2025-12-28T00:17:54.403318+01:00","created_by":"daemon"}]}
{"id":"gno-40i.5","title":"Run tests and lint to verify no regressions","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T00:12:16.449159+01:00","updated_at":"2025-12-28T01:01:17.095808+01:00","closed_at":"2025-12-28T01:01:17.095808+01:00","close_reason":"Implemented and tested","dependencies":[{"issue_id":"gno-40i.5","depends_on_id":"gno-40i","type":"parent-child","created_at":"2025-12-28T00:12:16.453094+01:00","created_by":"daemon"},{"issue_id":"gno-40i.5","depends_on_id":"gno-40i.1","type":"blocks","created_at":"2025-12-28T00:12:22.93113+01:00","created_by":"daemon"},{"issue_id":"gno-40i.5","depends_on_id":"gno-40i.2","type":"blocks","created_at":"2025-12-28T00:12:23.079094+01:00","created_by":"daemon"},{"issue_id":"gno-40i.5","depends_on_id":"gno-40i.3","type":"blocks","created_at":"2025-12-28T00:12:23.217651+01:00","created_by":"daemon"},{"issue_id":"gno-40i.5","depends_on_id":"gno-40i.4","type":"blocks","created_at":"2025-12-28T00:12:23.35328+01:00","created_by":"daemon"}]}
{"id":"gno-40i.6","title":"Create src/pipeline/chunk-lookup.ts with lazy-cached getChunk()","description":"Create shared helper with factory pattern. Cache scoped to chunksMap instance (not module-level) to prevent cross-query leakage. First-wins semantics for duplicate seq handling.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T00:17:45.231524+01:00","updated_at":"2025-12-28T01:01:17.097111+01:00","closed_at":"2025-12-28T01:01:17.097111+01:00","close_reason":"Implemented and tested","dependencies":[{"issue_id":"gno-40i.6","depends_on_id":"gno-40i","type":"parent-child","created_at":"2025-12-28T00:17:45.240288+01:00","created_by":"daemon"}]}
{"id":"gno-40i.7","title":"Migrate search.ts from getChunks() to getChunksBatch()","description":"Replace per-hash N+1 queries with batch fetch (required, not optional)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T00:17:46.457744+01:00","updated_at":"2025-12-28T01:01:17.098411+01:00","closed_at":"2025-12-28T01:01:17.098411+01:00","close_reason":"Implemented and tested","dependencies":[{"issue_id":"gno-40i.7","depends_on_id":"gno-40i","type":"parent-child","created_at":"2025-12-28T00:17:46.461693+01:00","created_by":"daemon"}]}
{"id":"gno-74v","title":"Gated model docs: HF_TOKEN required for BAAI/bge-m3","description":"BAAI/bge-m3 (default embed model) was using non-existent HuggingFace repo.\n\nRoot cause:\n- BAAI doesn't publish GGUF versions directly\n- Original preset used fake repo 'BAAI/bge-m3-gguf' which doesn't exist\n\nFix applied:\n- Changed default preset to use gpustack/bge-m3-GGUF (community GGUF conversion)\n- Changed reranker to gpustack/bge-reranker-v2-m3-GGUF\n- Both repos are actively maintained with proper Q4_K_M quantizations\n\nHF_TOKEN note:\n- Created .env.template for users who need gated model access\n- gpustack models are public/ungated, so HF_TOKEN not required for defaults\n\nFuture work:\n- Model configurability via env vars (GNO_EMBED_MODEL, etc)\n- Allow overriding preset models in config file","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-24T23:58:05.460835+01:00","updated_at":"2025-12-25T00:03:53.662351+01:00","dependencies":[{"issue_id":"gno-74v","depends_on_id":"gno-v8w","type":"parent-child","created_at":"2025-12-27T11:23:33.080553+01:00","created_by":"daemon"}]}
{"id":"gno-8db","title":"EPIC 0: Repo scaffold and naming constants","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-23T14:50:51.649521+01:00","updated_at":"2025-12-23T15:22:24.552281+01:00","closed_at":"2025-12-23T15:22:24.552281+01:00","close_reason":"All tasks complete: scaffold, constants module, CI"}
{"id":"gno-8db.1","title":"T0.1: Bun+TS ESM scaffold with lint/typecheck/test baseline","description":"Set up Bun + TypeScript ESM project. Configure biome for linting/formatting, tsgo for typecheck, bun test for testing. Verify with `bun test` passing. Reference: docs/prd.md §22 EPIC 0.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:50:59.683948+01:00","updated_at":"2025-12-23T15:21:57.179716+01:00","closed_at":"2025-12-23T15:21:57.179716+01:00","close_reason":"Implemented: folder structure per PRD, constants module with OS paths/env overrides, 33 passing tests","dependencies":[{"issue_id":"gno-8db.1","depends_on_id":"gno-8db","type":"parent-child","created_at":"2025-12-23T14:50:59.684818+01:00","created_by":"daemon"}]}
{"id":"gno-8db.2","title":"T0.2: Central constants module for naming (CLI, URI, dirs, MCP)","description":"Create src/app/constants.ts with all configurable names: CLI name (\"gno\"), URI scheme (\"gno://\"), config/data/cache dir names, MCP server name, MCP tool namespace prefix. Must be single-module rename. Reference: docs/prd.md §2.2.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:06.354042+01:00","updated_at":"2025-12-23T15:21:57.185416+01:00","closed_at":"2025-12-23T15:21:57.185416+01:00","close_reason":"Implemented: folder structure per PRD, constants module with OS paths/env overrides, 33 passing tests","dependencies":[{"issue_id":"gno-8db.2","depends_on_id":"gno-8db","type":"parent-child","created_at":"2025-12-23T14:51:06.354719+01:00","created_by":"daemon"}]}
{"id":"gno-8db.3","title":"T0.3: CI pipeline (typecheck + tests)","description":"Set up GitHub Actions CI with typecheck and test steps. Must pass before merge. Reference: docs/prd.md §22 EPIC 0.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:11.468652+01:00","updated_at":"2025-12-23T15:22:11.552925+01:00","closed_at":"2025-12-23T15:22:11.552925+01:00","close_reason":"GitHub Actions CI workflow created at .github/workflows/ci.yml with lint+typecheck+test","dependencies":[{"issue_id":"gno-8db.3","depends_on_id":"gno-8db","type":"parent-child","created_at":"2025-12-23T14:51:11.469772+01:00","created_by":"daemon"},{"issue_id":"gno-8db.3","depends_on_id":"gno-8db.1","type":"blocks","created_at":"2025-12-23T14:53:47.332241+01:00","created_by":"daemon"}]}
{"id":"gno-8l3","title":"Pager for long output","description":"Per clig.dev: Use a pager if outputting a lot of text. For commands like ls with many results, pipe through pager when TTY. Consider spawning less/more when stdout.isTTY and output exceeds terminal height.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-25T11:33:36.286028+01:00","updated_at":"2025-12-25T11:33:36.286028+01:00","dependencies":[{"issue_id":"gno-8l3","depends_on_id":"gno-amf","type":"parent-child","created_at":"2025-12-27T11:22:51.611893+01:00","created_by":"daemon"}]}
{"id":"gno-8n2","title":"Documentation Website (Jekyll + Vercel)","description":"Beautiful Jekyll doc site in /website/ subdir, sourced from docs/*.md. Dark-mode default, responsive sidebar, direct Vercel deploy (not GitHub Pages). Custom GNO branding. Stack: Jekyll via github-pages gem, SCSS with CSS variables. All UI work uses frontend-design plugin. Separate from future GNO web server.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-29T10:31:50.899046+01:00","updated_at":"2025-12-29T11:42:21.543957+01:00","closed_at":"2025-12-29T11:42:21.543957+01:00","close_reason":"Jekyll website complete: scaffolding, design system, layouts, includes, JS, docs integration, local dev scripts"}
{"id":"gno-8n2.1","title":"D0: Jekyll scaffolding (Gemfile, vercel.json, _config.yml)","description":"Create /website/ subdir with: Gemfile (github-pages gem + plugins), vercel.json (rootDirectory: website, build config), _config.yml (site settings, plugins, defaults). Plugins: jekyll-optional-front-matter, jekyll-titles-from-headings, jekyll-relative-links, jekyll-default-layout. Configure nav structure for GNO docs. Keep Jekyll isolated from Bun project.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:32:10.724258+01:00","updated_at":"2025-12-29T10:54:26.556096+01:00","closed_at":"2025-12-29T10:54:26.556096+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.1","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:10.728842+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.10","title":"D9: Entry files (index.md, 404.html)","description":"index.md with home layout (GNO tagline, feature highlights). 404.html with styled error page matching brand. [USES frontend-design PLUGIN for 404 page design]","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T10:32:45.121527+01:00","updated_at":"2025-12-29T11:31:40.783373+01:00","closed_at":"2025-12-29T11:31:40.783373+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.10","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:45.126533+01:00","created_by":"daemon"},{"issue_id":"gno-8n2.10","depends_on_id":"gno-8n2.8","type":"blocks","created_at":"2025-12-29T10:32:58.264752+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.11","title":"D10: Docs content integration","description":"Link /docs/*.md into Jekyll site. Options: symlink, Jekyll include, or copy during build. Verify front matter optional, check relative links work, test code highlighting. Ensure docs/ remains source of truth.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:32:46.414417+01:00","updated_at":"2025-12-29T11:31:40.785622+01:00","closed_at":"2025-12-29T11:31:40.785622+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.11","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:46.420187+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.12","title":"D11: Local testing + polish","description":"bundle install \u0026\u0026 bundle exec jekyll serve. Test all pages, nav, mobile, themes. Fix any issues. Verify code copy button works.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T10:32:47.621228+01:00","updated_at":"2025-12-29T11:32:34.716534+01:00","closed_at":"2025-12-29T11:32:34.716534+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.12","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:47.627915+01:00","created_by":"daemon"},{"issue_id":"gno-8n2.12","depends_on_id":"gno-8n2.11","type":"blocks","created_at":"2025-12-29T10:32:58.34343+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.13","title":"D12: Vercel deployment","description":"Deploy /website/ directly to Vercel (NOT GitHub Pages). Configure rootDirectory in vercel.json. Set up custom domain. Verify build works, test production site, check preview deploys work for PRs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T10:32:48.854325+01:00","updated_at":"2025-12-29T11:42:06.149371+01:00","closed_at":"2025-12-29T11:42:06.149371+01:00","close_reason":"Vercel config ready, deployment instructions documented","dependencies":[{"issue_id":"gno-8n2.13","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:48.859334+01:00","created_by":"daemon"},{"issue_id":"gno-8n2.13","depends_on_id":"gno-8n2.12","type":"blocks","created_at":"2025-12-29T10:32:58.410815+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.2","title":"D1: Base layout (_layouts/default.html)","description":"HTML shell with: meta tags, emoji favicon, OG tags, font preconnect, theme data attribute. Include header/footer. Link style.css and main.js.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:32:11.888617+01:00","updated_at":"2025-12-29T11:31:40.75495+01:00","closed_at":"2025-12-29T11:31:40.75495+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.2","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:11.892494+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.3","title":"D2: Page layout with sidebar (_layouts/page.html)","description":"Docs pages: breadcrumb nav, sidebar include, main content area, sidebar overlay for mobile. Uses default layout. [USES frontend-design PLUGIN for layout/spacing decisions]","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:32:14.449692+01:00","updated_at":"2025-12-29T11:31:40.7618+01:00","closed_at":"2025-12-29T11:31:40.7618+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.3","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:14.453718+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.4","title":"D3: Home layout with hero (_layouts/home.html)","description":"Landing page: hero section with badge/title/description/CTAs, features grid with cards linking to docs sections. GNO-specific messaging and visuals. [USES frontend-design PLUGIN - hero design critical]","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:32:15.425386+01:00","updated_at":"2025-12-29T11:31:40.768606+01:00","closed_at":"2025-12-29T11:31:40.768606+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.4","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:15.429905+01:00","created_by":"daemon"},{"issue_id":"gno-8n2.4","depends_on_id":"gno-8n2.8","type":"blocks","created_at":"2025-12-29T10:32:58.123446+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.5","title":"D4: Header include (_includes/header.html)","description":"Fixed header: GNO logo/wordmark, nav links (Docs, API, GitHub), theme toggle (sun/moon), mobile menu button. Must feel cohesive with brand. [USES frontend-design PLUGIN]","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:32:16.44282+01:00","updated_at":"2025-12-29T11:31:40.773979+01:00","closed_at":"2025-12-29T11:31:40.773979+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.5","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:16.447805+01:00","created_by":"daemon"},{"issue_id":"gno-8n2.5","depends_on_id":"gno-8n2.8","type":"blocks","created_at":"2025-12-29T10:32:58.193944+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.6","title":"D5: Sidebar include (_includes/sidebar.html)","description":"Navigation sidebar: section headings with icons, nav links from _config.yml nav structure, active state highlighting, collapsible on mobile. [USES frontend-design PLUGIN for nav styling]","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:32:17.582811+01:00","updated_at":"2025-12-29T11:31:40.776497+01:00","closed_at":"2025-12-29T11:31:40.776497+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.6","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:17.587323+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.7","title":"D6: Footer include (_includes/footer.html)","description":"Site footer: GNO branding, 'Built with Jekyll' credit, nav links, copyright. [USES frontend-design PLUGIN]","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:32:19.924264+01:00","updated_at":"2025-12-29T11:31:40.778746+01:00","closed_at":"2025-12-29T11:31:40.778746+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.7","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:19.92896+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.8","title":"D7: GNO design system (assets/css/style.scss)","description":"SCSS with CSS variables. [USES frontend-design PLUGIN - CRITICAL]\n\n**Brand Brief for GNO:**\n- Name origin: Greek 'gnosis' = knowledge, wisdom, discovery\n- Mood: Clean, intelligent, trustworthy - like a personal librarian\n- NOT: Cold/corporate, overly playful, generic tech startup, Terminal Noir clone\n- Color direction: Deep blues or teals (knowledge/depth), warm accents (approachable), neutral backgrounds\n- Typography: Mono for code/headings (tool feel), clean sans for body (readable)\n- Icon concept: Search + knowledge (magnifying glass + book/brain/index)\n- Dark mode default, light mode available\n- Feel: Local-first, privacy-respecting, powerful but not intimidating\n\n**Technical scope:**\n- Design tokens (colors, spacing, typography, shadows, radii)\n- Dark/light theme CSS variables\n- Component styles: header, sidebar, nav, cards, code blocks, tables, buttons\n- Syntax highlighting (Rouge)\n- Animations (subtle, purposeful)\n- Print styles\n- Mobile responsive breakpoints","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-29T10:32:41.684089+01:00","updated_at":"2025-12-29T11:26:41.510142+01:00","closed_at":"2025-12-29T11:26:41.510142+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.8","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:41.689314+01:00","created_by":"daemon"}]}
{"id":"gno-8n2.9","title":"D8: JavaScript (assets/js/main.js)","description":"Theme toggle (localStorage + system preference), sidebar toggle (mobile), ESC to close, smooth scroll anchors, copy code button with feedback.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T10:32:43.431968+01:00","updated_at":"2025-12-29T11:31:40.781106+01:00","closed_at":"2025-12-29T11:31:40.781106+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-8n2.9","depends_on_id":"gno-8n2","type":"parent-child","created_at":"2025-12-29T10:32:43.440634+01:00","created_by":"daemon"}]}
{"id":"gno-a7n","title":"EPIC 3: Store layer (SQLite + migrations)","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-23T14:50:55.681794+01:00","updated_at":"2025-12-23T22:33:06.842918+01:00","closed_at":"2025-12-23T22:33:06.842918+01:00","close_reason":"Implemented in previous session - migrations, core tables, adapter, status queries all complete. 191 tests passing.","dependencies":[{"issue_id":"gno-a7n","depends_on_id":"gno-8db","type":"blocks","created_at":"2025-12-23T14:53:22.307858+01:00","created_by":"daemon"}],"comments":[{"id":6,"issue_id":"gno-a7n","author":"gordon","text":"Spec: spec/db/schema.sql (placeholder). See docs/prd.md §9 for storage model.","created_at":"2025-12-23T15:15:15Z"}]}
{"id":"gno-a7n.1","title":"T3.1: Implement migrations runner","description":"SQLite migrations system. DB path: \u003cdataDir\u003e/index-\u003cindexName\u003e.sqlite. Run migrations on init/first access. Use bun:sqlite. Reference: docs/prd.md §9.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:35.842255+01:00","updated_at":"2025-12-23T22:33:06.834594+01:00","closed_at":"2025-12-23T22:33:06.834594+01:00","close_reason":"Implemented in previous session - migrations, core tables, adapter, status queries all complete. 191 tests passing.","dependencies":[{"issue_id":"gno-a7n.1","depends_on_id":"gno-a7n","type":"parent-child","created_at":"2025-12-23T14:51:35.84334+01:00","created_by":"daemon"}]}
{"id":"gno-a7n.2","title":"T3.2: Implement core tables and queries","description":"Tables: collections, contexts, documents, content, content_chunks, content_fts (FTS5), content_vectors, llm_cache, ingest_errors. Key fields in docs/prd.md §9.2. Use bun:sqlite.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:37.189504+01:00","updated_at":"2025-12-23T22:33:06.837896+01:00","closed_at":"2025-12-23T22:33:06.837896+01:00","close_reason":"Implemented in previous session - migrations, core tables, adapter, status queries all complete. 191 tests passing.","dependencies":[{"issue_id":"gno-a7n.2","depends_on_id":"gno-a7n","type":"parent-child","created_at":"2025-12-23T14:51:37.190574+01:00","created_by":"daemon"},{"issue_id":"gno-a7n.2","depends_on_id":"gno-a7n.1","type":"blocks","created_at":"2025-12-23T14:53:50.881346+01:00","created_by":"daemon"}]}
{"id":"gno-a7n.3","title":"T3.3: Status/health queries","description":"Queries for gno status: document counts, chunk counts, embedding backlog, last update time, conversion error summary. Reference: docs/prd.md §14.2.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:38.703569+01:00","updated_at":"2025-12-23T22:33:06.841251+01:00","closed_at":"2025-12-23T22:33:06.841251+01:00","close_reason":"Implemented in previous session - migrations, core tables, adapter, status queries all complete. 191 tests passing.","dependencies":[{"issue_id":"gno-a7n.3","depends_on_id":"gno-a7n","type":"parent-child","created_at":"2025-12-23T14:51:38.704696+01:00","created_by":"daemon"},{"issue_id":"gno-a7n.3","depends_on_id":"gno-a7n.2","type":"blocks","created_at":"2025-12-23T14:53:51.861071+01:00","created_by":"daemon"}]}
{"id":"gno-amf","title":"EPIC: CLI Polish (P3 Future)","status":"open","priority":3,"issue_type":"epic","created_at":"2025-12-25T11:33:22.703527+01:00","updated_at":"2025-12-25T11:33:22.703527+01:00"}
{"id":"gno-c2t","title":"Mirror hash join duplication","description":"## Problem\n\nMultiple active docs can share `mirror_hash` (content-addressed storage). FTS query in `adapter.ts:639-657` joins on `mirror_hash`, causing duplicate results when same chunk matches multiple docs.\n\n## Semantics Decision\n\n**Result unit**: URI-centric (each unique uri+chunk appears once). If same content exists in two files, both appear in results with their own URI. We only eliminate *true duplicates* (same URI row repeated due to join fan-out).\n\nNote: `docid` is derived from `source_hash` (schema.sql:75), so two identical files share the same docid. We partition by `uri` to preserve distinct file results.\n\n## Approach\n\nUse **window function** to pick deterministic document row per URI+chunk:\n```sql\nSELECT * FROM (\n  SELECT \n    d.docid, d.uri, d.title, d.collection, d.rel_path,\n    c.mirror_hash, c.seq, c.chunk_text,\n    bm25(content_fts) AS score,\n    snippet(...) AS snippet,\n    ROW_NUMBER() OVER (PARTITION BY d.uri, c.seq ORDER BY d.id) AS rn\n  FROM content_fts\n  JOIN content_chunks c ON c.rowid = content_fts.rowid\n  JOIN documents d ON d.mirror_hash = c.mirror_hash AND d.active = 1\n  WHERE content_fts MATCH ?\n) WHERE rn = 1\nORDER BY score\n```\n\nThis:\n- Picks first doc row (by d.id) when same URI has multiple active versions\n- Preserves all different URIs even if they share content\n- Keeps score/snippet row-consistent with selected doc\n- Matches `--full` mode's `bestByDocid` semantics (formalized in SQL)\n\n## Key Context\n\n- Schema: `mirror_hash TEXT` is NOT unique (`spec/db/schema.sql:80`)\n- Schema: `docid` derived from `source_hash` - identical files share docid\n- Partition by `uri` not `docid` to preserve distinct file results\n- Requires SQLite ≥3.25.0 (window functions) - Bun ships modern SQLite\n\n## Files to Modify\n\n1. `src/store/sqlite/adapter.ts:639-658` - Add ROW_NUMBER window + WHERE rn = 1\n\n## Acceptance Checks\n\n- [ ] Same URI with duplicate rows returns single result\n- [ ] Different URIs sharing mirror_hash/docid both appear\n- [ ] Score and snippet correspond to selected document row\n- [ ] Tests pass with new dedup behavior","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T23:09:40.87646+01:00","updated_at":"2025-12-28T12:31:57.378658+01:00","closed_at":"2025-12-28T12:31:57.378658+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-c2t","depends_on_id":"gno-h7i.1","type":"blocks","created_at":"2025-12-25T23:11:56.516325+01:00","created_by":"daemon"},{"issue_id":"gno-c2t","depends_on_id":"gno-h7i","type":"parent-child","created_at":"2025-12-27T11:23:12.371787+01:00","created_by":"daemon"}]}
{"id":"gno-c6p","title":"Man pages generation","description":"Per clig.dev: Consider providing man pages. Generate from spec/cli.md using tool like ronn or similar. Install via npm postinstall to /usr/local/share/man/man1/gno.1","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-25T11:33:37.810303+01:00","updated_at":"2025-12-25T11:33:37.810303+01:00","dependencies":[{"issue_id":"gno-c6p","depends_on_id":"gno-amf","type":"parent-child","created_at":"2025-12-27T11:22:53.760594+01:00","created_by":"daemon"}]}
{"id":"gno-du9","title":"EPIC 2: Config, collections, contexts","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-23T14:50:54.20082+01:00","updated_at":"2025-12-23T17:25:42.315837+01:00","closed_at":"2025-12-23T17:25:42.315837+01:00","close_reason":"EPIC 2 complete: config schema, loader/saver, collection/context/init commands, multilingual support","dependencies":[{"issue_id":"gno-du9","depends_on_id":"gno-8db","type":"blocks","created_at":"2025-12-23T14:53:21.844389+01:00","created_by":"daemon"}],"comments":[{"id":4,"issue_id":"gno-du9","author":"gordon","text":"Spec: spec/cli.md §init/collection/context commands. Follow exit codes and flag conventions from spec.","created_at":"2025-12-23T15:14:58Z"}]}
{"id":"gno-du9.1","title":"T2.1: Config schema + loader/saver (YAML), XDG defaults, overrides","description":"Implement config loading from YAML file at \u003cconfigDir\u003e/index.yml. Support XDG paths (Linux), Library/Application Support (macOS), AppData (Windows). Environment overrides: GNO_CONFIG_DIR, GNO_DATA_DIR, GNO_CACHE_DIR. Reference: docs/prd.md §2.1-§2.3.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:18.67131+01:00","updated_at":"2025-12-23T17:06:54.49475+01:00","closed_at":"2025-12-23T17:06:54.49475+01:00","close_reason":"Config schema, loader, saver complete with tests","dependencies":[{"issue_id":"gno-du9.1","depends_on_id":"gno-du9","type":"parent-child","created_at":"2025-12-23T14:51:18.671976+01:00","created_by":"daemon"}]}
{"id":"gno-du9.2","title":"T2.2: collection add/list/remove/rename commands","description":"Implement CLI commands for collection management. Collection has: name, path (absolute), pattern (glob), optional include/exclude, optional update command, optional languageHint (BCP-47). Reference: docs/prd.md §7.1 and §14.2.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:19.817482+01:00","updated_at":"2025-12-23T17:21:29.350917+01:00","closed_at":"2025-12-23T17:21:29.350917+01:00","close_reason":"Implemented: all commands working, 43 tests passing","dependencies":[{"issue_id":"gno-du9.2","depends_on_id":"gno-du9","type":"parent-child","created_at":"2025-12-23T14:51:19.818261+01:00","created_by":"daemon"},{"issue_id":"gno-du9.2","depends_on_id":"gno-du9.1","type":"blocks","created_at":"2025-12-23T14:53:48.757205+01:00","created_by":"daemon"}]}
{"id":"gno-du9.3","title":"T2.3: context add/list/check/rm including global and prefix contexts","description":"Implement context management. Scopes: global (/), collection (collection:name), prefix (gno://collection/prefix). Contexts are human metadata that can enrich search results. Reference: docs/prd.md §4.5 and §14.2.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:21.290511+01:00","updated_at":"2025-12-23T17:21:29.355564+01:00","closed_at":"2025-12-23T17:21:29.355564+01:00","close_reason":"Implemented: all commands working, 43 tests passing","dependencies":[{"issue_id":"gno-du9.3","depends_on_id":"gno-du9","type":"parent-child","created_at":"2025-12-23T14:51:21.291374+01:00","created_by":"daemon"},{"issue_id":"gno-du9.3","depends_on_id":"gno-du9.1","type":"blocks","created_at":"2025-12-23T14:53:49.452776+01:00","created_by":"daemon"}]}
{"id":"gno-du9.4","title":"T2.4: init command (idempotent, creates config+DB, optional collection add)","description":"gno init [\u003cpath\u003e] [--name] [--pattern] [--yes] creates config if missing, runs DB migrations, optionally adds collection. Must be idempotent and safe to run repeatedly. Print resolved paths. Reference: docs/prd.md §7.1.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:22.676865+01:00","updated_at":"2025-12-23T17:21:29.357656+01:00","closed_at":"2025-12-23T17:21:29.357656+01:00","close_reason":"Implemented: all commands working, 43 tests passing","dependencies":[{"issue_id":"gno-du9.4","depends_on_id":"gno-du9","type":"parent-child","created_at":"2025-12-23T14:51:22.677686+01:00","created_by":"daemon"},{"issue_id":"gno-du9.4","depends_on_id":"gno-du9.1","type":"blocks","created_at":"2025-12-23T14:53:50.13721+01:00","created_by":"daemon"}]}
{"id":"gno-du9.5","title":"T2.5: Multilingual config (collection languageHint, index ftsTokenizer)","description":"Collection-level languageHint (BCP-47: de/fr/it/en/und). Index-level ftsTokenizer: unicode61 (default, multilingual), porter (English stemming, opt-in), trigram (optional). Reference: docs/prd.md §7.1.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T14:51:24.065653+01:00","updated_at":"2025-12-23T17:25:34.515185+01:00","closed_at":"2025-12-23T17:25:34.515185+01:00","close_reason":"Added BCP-47 validation, --tokenizer and --language flags to init, 6 new tests","dependencies":[{"issue_id":"gno-du9.5","depends_on_id":"gno-du9","type":"parent-child","created_at":"2025-12-23T14:51:24.066362+01:00","created_by":"daemon"}]}
{"id":"gno-dx9","title":"GitHub Actions npm publish workflow","description":"Create CI workflow for npm publishing (disabled until ready).\n\n## Trigger\n- Push to main (test only, no publish)\n- Manual dispatch for actual publish\n- Tag push v* (future, when ready)\n\n## Jobs\n1. **test** - Run on all platforms (matrix)\n   - ubuntu-latest\n   - macos-latest  \n   - windows-latest (may need timeout fixes per gno-quw.11)\n   \n2. **pack-test** - Verify package works\n   - npm pack\n   - bun add -g ./gno-*.tgz\n   - gno --version\n   - gno doctor --json\n   \n3. **publish** (DISABLED for now)\n   - npm publish --access public\n   - Commented out / manual dispatch only\n\n## Secrets Required\n- NPM_TOKEN (already configured per user)\n\n## Files\n- .github/workflows/publish.yml (new)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T12:20:20.464218+01:00","created_by":"gordon","updated_at":"2025-12-30T12:26:23.147277+01:00","closed_at":"2025-12-30T12:26:23.147277+01:00","close_reason":"Publish workflow created with test/pack-test jobs; publish job commented awaiting NPM_TOKEN","dependencies":[{"issue_id":"gno-dx9","depends_on_id":"gno-quw","type":"blocks","created_at":"2025-12-30T12:20:30.01892+01:00","created_by":"daemon"},{"issue_id":"gno-dx9","depends_on_id":"gno-quw.2","type":"blocks","created_at":"2025-12-30T12:20:30.094606+01:00","created_by":"daemon"},{"issue_id":"gno-dx9","depends_on_id":"gno-quw.4","type":"blocks","created_at":"2025-12-30T12:20:30.174454+01:00","created_by":"daemon"}]}
{"id":"gno-eb8","title":"Tab completion scripts","description":"Commander supports generating completion scripts for bash/zsh/fish. Add gno completion subcommand that outputs shell-specific completion script. Install instructions in docs.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-25T11:33:39.297314+01:00","updated_at":"2025-12-25T11:33:39.297314+01:00","dependencies":[{"issue_id":"gno-eb8","depends_on_id":"gno-amf","type":"parent-child","created_at":"2025-12-27T11:22:56.195+01:00","created_by":"daemon"}]}
{"id":"gno-ga7","title":"Model configurability via env vars and config","description":"Allow users to override default model presets.\n\nProposed env vars:\n- GNO_EMBED_MODEL - override embed model URI\n- GNO_RERANK_MODEL - override rerank model URI  \n- GNO_GEN_MODEL - override generation model URI\n\nConfig file support:\n- models.embed / models.rerank / models.gen in gno.yml\n- Precedence: env vars \u003e config file \u003e preset defaults\n\nUse cases:\n- Switch to smaller/faster models for testing\n- Use custom fine-tuned models\n- Avoid downloading large models in CI","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-25T00:04:01.860101+01:00","updated_at":"2025-12-25T00:04:01.860101+01:00","dependencies":[{"issue_id":"gno-ga7","depends_on_id":"gno-74v","type":"discovered-from","created_at":"2025-12-27T11:23:25.686139+01:00","created_by":"daemon"},{"issue_id":"gno-ga7","depends_on_id":"gno-v8w","type":"parent-child","created_at":"2025-12-27T11:23:34.274077+01:00","created_by":"daemon"}]}
{"id":"gno-h35","title":"Update memorybot repo to link gno as successor","description":"Update https://github.com/gmickel/memorybot README to mention gno as the spiritual successor. Add deprecation notice or link in description.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T00:37:36.787992+01:00","updated_at":"2025-12-26T00:37:42.933398+01:00"}
{"id":"gno-h7i","title":"EPIC 8: Search pipelines","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-23T14:51:24.157816+01:00","updated_at":"2025-12-30T04:07:00.429964+01:00","closed_at":"2025-12-30T04:07:00.429964+01:00","close_reason":"Search pipelines complete - all tests passing","dependencies":[{"issue_id":"gno-h7i","depends_on_id":"gno-i7b","type":"blocks","created_at":"2025-12-23T14:53:26.254479+01:00","created_by":"daemon"},{"issue_id":"gno-h7i","depends_on_id":"gno-ia1","type":"blocks","created_at":"2025-12-23T14:53:26.866972+01:00","created_by":"daemon"}],"comments":[{"id":2,"issue_id":"gno-h7i","author":"gordon","text":"Spec: spec/cli.md §search/vsearch/query/ask. Output must match spec/output-schemas/search-result.schema.json","created_at":"2025-12-23T15:14:56Z"},{"id":14,"issue_id":"gno-h7i","author":"gordon","text":"T8.1-T8.3 incomplete: --full/--line-numbers missing","created_at":"2025-12-25T10:14:13Z"}]}
{"id":"gno-h7i.1","title":"T8.1: gno search (BM25/FTS only)","description":"FTS-only search. Options: -n limit, --min-score, -c collection, --full, --line-numbers, --lang. Output: docid, score, uri, title, snippet, snippetRange, source metadata. Reference: docs/prd.md §12.1 and §15.1.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:31.203781+01:00","updated_at":"2025-12-25T23:35:29.485203+01:00","closed_at":"2025-12-25T23:35:29.485203+01:00","close_reason":"Implemented in PR #9","dependencies":[{"issue_id":"gno-h7i.1","depends_on_id":"gno-h7i","type":"parent-child","created_at":"2025-12-23T14:51:31.204653+01:00","created_by":"daemon"}],"comments":[{"id":11,"issue_id":"gno-h7i.1","author":"gordon","text":"--full not used, --line-numbers not implemented per PRD §14.3","created_at":"2025-12-25T10:14:07Z"}]}
{"id":"gno-h7i.2","title":"T8.2: gno vsearch (vector only)","description":"Vector similarity search. Same output schema as search. Graceful error if vectors unavailable (suggest gno index/embed). Reference: docs/prd.md §12.1 and §11.3.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:36.917073+01:00","updated_at":"2025-12-25T23:35:29.489093+01:00","closed_at":"2025-12-25T23:35:29.489093+01:00","close_reason":"Implemented in PR #9","dependencies":[{"issue_id":"gno-h7i.2","depends_on_id":"gno-h7i","type":"parent-child","created_at":"2025-12-23T14:51:36.917878+01:00","created_by":"daemon"}],"comments":[{"id":12,"issue_id":"gno-h7i.2","author":"gordon","text":"--full not used, --line-numbers not implemented per PRD §14.3","created_at":"2025-12-25T10:14:07Z"}]}
{"id":"gno-h7i.3","title":"T8.3: gno query hybrid pipeline (expansion, fusion, rerank, blend)","description":"Full hybrid: 1) structured query expansion (lexical+semantic+HyDE), 2) parallel BM25+vector retrieval, 3) RRF fusion (k=60) + top-rank bonus, 4) cross-encoder rerank, 5) position-aware blending. --explain prints scoring details. Reference: docs/prd.md §12.2-§12.7.\n\n**Implementation Plan:** plans/t8.3-t8.4-hybrid-ask.md\n\n**Key tasks:**\n- T8.3.1: Fix rerank score normalization (always output [0,1])\n- T8.3.2: Apply --min-score consistently\n- T8.3.3: Implement --full support\n- T8.3.4: Make query formatting consistent with search/vsearch\n- T8.3.5: Consolidate explain formatting","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:44.783705+01:00","updated_at":"2025-12-26T22:14:58.95395+01:00","closed_at":"2025-12-26T22:14:58.95395+01:00","close_reason":"Merged PR #10 with hybrid query, ask command, citations, grounded answers","dependencies":[{"issue_id":"gno-h7i.3","depends_on_id":"gno-h7i","type":"parent-child","created_at":"2025-12-23T14:51:44.784754+01:00","created_by":"daemon"},{"issue_id":"gno-h7i.3","depends_on_id":"gno-h7i.1","type":"blocks","created_at":"2025-12-23T14:53:59.568648+01:00","created_by":"daemon"},{"issue_id":"gno-h7i.3","depends_on_id":"gno-h7i.2","type":"blocks","created_at":"2025-12-23T14:54:00.395631+01:00","created_by":"daemon"}],"comments":[{"id":13,"issue_id":"gno-h7i.3","author":"gordon","text":"--full not used, --line-numbers not implemented per PRD §14.3","created_at":"2025-12-25T10:14:07Z"}]}
{"id":"gno-h7i.4","title":"T8.4: gno ask command (citations-first, optional grounded answer)","description":"Wrapper over query. Default: citations/snippets only. --answer enables short grounded synthesis (requires gen model). Output includes citations array with docid/uri/lineRange. Reference: docs/prd.md §12.1, §14.4, §15.4.\n\n**Implementation Plan:** plans/t8.3-t8.4-hybrid-ask.md\n\n**Key tasks:**\n- T8.4.1: Align CLI flags with spec (--answer default false)\n- T8.4.2: Eliminate silent failures when --answer requested\n- T8.4.3: Bound context size + citation integrity","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:51.435564+01:00","updated_at":"2025-12-26T22:14:58.959436+01:00","closed_at":"2025-12-26T22:14:58.959436+01:00","close_reason":"Merged PR #10 with hybrid query, ask command, citations, grounded answers","dependencies":[{"issue_id":"gno-h7i.4","depends_on_id":"gno-h7i","type":"parent-child","created_at":"2025-12-23T14:51:51.436991+01:00","created_by":"daemon"},{"issue_id":"gno-h7i.4","depends_on_id":"gno-h7i.3","type":"blocks","created_at":"2025-12-23T14:54:01.301375+01:00","created_by":"daemon"}],"comments":[{"id":19,"issue_id":"gno-h7i.4","author":"gordon","text":"Depends on T8.3 which is still open; grounded answer not fully tested","created_at":"2025-12-26T00:19:38Z"}]}
{"id":"gno-h7i.5","title":"T8.5: Multilingual awareness (query lang detection, prompt selection)","description":"## Implementation Plan\n\n**Plan file**: plans/t8.5-multilingual-awareness.md\n\n### CRITICAL DISTINCTION\nDetected language affects **prompt selection only**, NOT retrieval filtering. `--lang` CLI flag remains the only way to filter by chunk language.\n\n### Approach\n1. Install franc + iso-639-3 for deterministic language detection\n2. New `src/pipeline/query-language.ts` with detectQueryLanguage()\n3. Hook into pipeline for prompt selection + metadata (NOT retrieval)\n4. Resolution: --lang flag \u003e detected \u003e collection hint \u003e 'und'\n\n### Key Design Decisions\n- Module in `src/pipeline/` (not src/search/) - aligns with codebase architecture\n- Build ISO 639-3→BCP-47 mapping from dataset array at init\n- MIN_RELIABLE_LENGTH = 15 chars (returns 'und' if shorter)\n- Detection does NOT change FTS/vector chunk filters\n\n### Files\n- src/pipeline/query-language.ts (new)\n- src/pipeline/hybrid.ts (detect for prompt selection)\n- src/pipeline/search.ts (meta.lang output)\n- src/pipeline/vsearch.ts (meta.lang output)\n- src/cli/commands/ask.ts (AskResult.queryLanguage)\n- test/pipeline/query-language.test.ts (new)\n\n### Review Findings Addressed\n1. ✅ CRITICAL: Separated queryLanguage (prompts) from options.lang (retrieval filter)\n2. ✅ MAJOR: Moved to src/pipeline/ (not src/search/)\n3. ✅ MAJOR: Fixed iso-639-3 API\n4. ✅ MAJOR: Collection hint only when single collection + uncertain detection","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T14:51:56.926996+01:00","updated_at":"2025-12-29T00:13:05.115961+01:00","closed_at":"2025-12-29T00:13:05.115961+01:00","close_reason":"Implemented query language detection with franc + iso-639-3, integrated into hybrid/search/vsearch pipelines for prompt selection, added 13 unit tests","dependencies":[{"issue_id":"gno-h7i.5","depends_on_id":"gno-h7i","type":"parent-child","created_at":"2025-12-23T14:51:56.927877+01:00","created_by":"daemon"}]}
{"id":"gno-h7i.5.1","title":"Install franc + iso-639-3 dependencies","description":"Run bun add franc iso-639-3. Verify ESM packages work with Bun. Both are ESM-only, no CommonJS.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T23:57:33.567274+01:00","updated_at":"2025-12-29T00:07:12.566511+01:00","closed_at":"2025-12-29T00:07:12.566511+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-h7i.5.1","depends_on_id":"gno-h7i.5","type":"parent-child","created_at":"2025-12-28T23:57:33.573536+01:00","created_by":"daemon"}]}
{"id":"gno-h7i.5.2","title":"Create src/pipeline/query-language.ts module","description":"Implement detectQueryLanguage(text): returns {bcp47, iso639_3, confident}. Build ISO 639-3→BCP-47 mapping from iso6393 dataset array at module init. Use franc with only:[10 major langs] filter. MIN_RELIABLE_LENGTH=15 chars.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T23:57:35.14252+01:00","updated_at":"2025-12-29T00:08:11.460672+01:00","closed_at":"2025-12-29T00:08:11.460672+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-h7i.5.2","depends_on_id":"gno-h7i.5","type":"parent-child","created_at":"2025-12-28T23:57:35.148374+01:00","created_by":"daemon"},{"issue_id":"gno-h7i.5.2","depends_on_id":"gno-h7i.5.1","type":"blocks","created_at":"2025-12-28T23:57:46.33258+01:00","created_by":"daemon"}]}
{"id":"gno-h7i.5.3","title":"Hook detection into pipeline entry points","description":"Hook detection into hybrid.ts, search.ts, vsearch.ts for PROMPT SELECTION and METADATA only. CRITICAL: Detection does NOT change FTS/vector retrieval filters - options.lang remains explicit user filter only. Pass queryLanguage to expandQuery and meta output.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T23:57:36.535606+01:00","updated_at":"2025-12-29T00:10:46.007295+01:00","closed_at":"2025-12-29T00:10:46.007295+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-h7i.5.3","depends_on_id":"gno-h7i.5","type":"parent-child","created_at":"2025-12-28T23:57:36.546961+01:00","created_by":"daemon"},{"issue_id":"gno-h7i.5.3","depends_on_id":"gno-h7i.5.2","type":"blocks","created_at":"2025-12-28T23:57:46.504484+01:00","created_by":"daemon"}]}
{"id":"gno-h7i.5.4","title":"Add unit tests for detectQueryLanguage","description":"New file test/pipeline/query-language.test.ts. Test cases: known strings (en/de/fr), short text returns 'und', determinism (same input = same output), edge cases (empty, whitespace, code), ISO mapping verification.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T23:57:37.660254+01:00","updated_at":"2025-12-29T00:11:44.833431+01:00","closed_at":"2025-12-29T00:11:44.833431+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-h7i.5.4","depends_on_id":"gno-h7i.5","type":"parent-child","created_at":"2025-12-28T23:57:37.668371+01:00","created_by":"daemon"},{"issue_id":"gno-h7i.5.4","depends_on_id":"gno-h7i.5.2","type":"blocks","created_at":"2025-12-28T23:57:46.666447+01:00","created_by":"daemon"}]}
{"id":"gno-h7i.6","title":"Migrate from bun:sqlite to better-sqlite3 for cross-platform sqlite-vec support","description":"## Problem\n\nbun:sqlite bundled SQLite doesn't support dynamic extension loading, which breaks sqlite-vec (vector search).\n\nCurrent workaround uses Database.setCustomSQLite() to load Homebrew SQLite on macOS, but this:\n- Requires users to install Homebrew + sqlite3 on macOS\n- Doesn't work on Windows\n- Requires system packages on Linux\n- Not portable or user-friendly\n\n## Solution\n\nMigrate from bun:sqlite to better-sqlite3:\n- Native extension support on all platforms\n- Prebuilt binaries for Windows/Linux/macOS (via prebuild)\n- Standard approach used by sqlite-vec examples\n\n## Implementation\n\n1. Add better-sqlite3 dependency\n2. Create adapter abstraction if needed for type compatibility\n3. Update src/store/sqlite/adapter.ts to use better-sqlite3\n4. Update src/store/vector/sqlite-vec.ts to use better-sqlite3 API\n5. Remove src/store/sqlite/setup.ts workaround\n6. Test on macOS, Linux, Windows\n7. Update README with any remaining requirements\n\n## Acceptance criteria\n\n- Vector search works on macOS without Homebrew SQLite\n- Vector search works on Linux without extra packages\n- Vector search works on Windows\n- All existing tests pass\n- No user-facing installation steps beyond bun install","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T00:30:28.10551+01:00","updated_at":"2025-12-28T11:29:12.217873+01:00","closed_at":"2025-12-28T11:29:12.217873+01:00","close_reason":"Not needed: bun:sqlite works natively on Linux/Windows. macOS uses Homebrew workaround. See aaf9282.","dependencies":[{"issue_id":"gno-h7i.6","depends_on_id":"gno-h7i","type":"parent-child","created_at":"2025-12-26T00:30:28.110118+01:00","created_by":"daemon"}]}
{"id":"gno-hm0","title":"Implement gno skill install command","description":"Agent skill distribution system for Claude Code/Codex. See plans/gno-agent-skill.md for full spec. Includes: SKILL.md + reference files in assets/skill/, install/uninstall/show/paths commands, atomic installs, path safety guards.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-30T03:37:14.838735+01:00","updated_at":"2025-12-30T03:54:57.934481+01:00","closed_at":"2025-12-30T03:54:57.934481+01:00","close_reason":"Implemented gno skill command group with install, uninstall, show, paths subcommands"}
{"id":"gno-i20","title":"GNO Claude Code Skill for AI agents","description":"Create a Claude Code Skill that teaches AI agents how to use GNO effectively.\n\n**Goal**: When an agent needs to search local documents or build knowledge workflows, it automatically knows how to use GNO.\n\n**Skill would include:**\n- GNO command patterns (init, update, search, query, ask)\n- When to use BM25 vs vector vs hybrid search\n- Collection/context setup guidance\n- MCP integration instructions\n- Common workflows (index notes, search codebase, RAG answers)\n\n**Distribution options:**\n1. Personal skill: ~/.claude/skills/gno/SKILL.md\n2. Project skill: .claude/skills/gno/SKILL.md (for repos using GNO)\n3. Plugin: Publish to Claude Code marketplace\n\n**Implementation:**\n- SKILL.md with usage patterns and examples\n- Reference to spec/cli.md and spec/mcp.md\n- Progressive disclosure for detailed docs\n- allowed-tools restriction for safe operations\n\n**Relates to**: docs website (gno-8n2), world-class documentation (gno-iu7)","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-29T11:41:56.458171+01:00","updated_at":"2025-12-30T11:33:43.434274+01:00","closed_at":"2025-12-30T11:33:43.434274+01:00","close_reason":"Completed"}
{"id":"gno-i7b","title":"EPIC 5: Indexing sync (gno update) and FTS","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-23T14:51:02.649426+01:00","updated_at":"2025-12-24T13:48:44.535668+01:00","closed_at":"2025-12-24T13:48:44.535668+01:00","close_reason":"Merged to main","dependencies":[{"issue_id":"gno-i7b","depends_on_id":"gno-a7n","type":"blocks","created_at":"2025-12-23T14:53:23.783345+01:00","created_by":"daemon"},{"issue_id":"gno-i7b","depends_on_id":"gno-mu3","type":"blocks","created_at":"2025-12-23T14:53:24.410113+01:00","created_by":"daemon"}]}
{"id":"gno-i7b.1","title":"T5.1: File walker + include/exclude logic + path normalization","description":"Walk collection directory matching glob pattern. Support include (extensions allowlist) and exclude (patterns like .git, node_modules). Deterministic path normalization. Use Bun.file for reading. Reference: docs/prd.md §7.1.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:10.840099+01:00","updated_at":"2025-12-24T13:48:44.536938+01:00","closed_at":"2025-12-24T13:48:44.536938+01:00","close_reason":"Merged to main","dependencies":[{"issue_id":"gno-i7b.1","depends_on_id":"gno-i7b","type":"parent-child","created_at":"2025-12-23T14:51:10.841717+01:00","created_by":"daemon"}]}
{"id":"gno-i7b.2","title":"T5.2: Sync algorithm (hash, convert, upsert, soft-delete)","description":"For each file: stat, read bytes, compute source_hash (sha256), detect MIME, convert to markdown mirror, compute mirror_hash, upsert doc keyed by (collection, relativePath). Mark missing files inactive. Store converter_id/version. Reference: docs/prd.md §7.2.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:17.926108+01:00","updated_at":"2025-12-24T13:48:44.538463+01:00","closed_at":"2025-12-24T13:48:44.538463+01:00","close_reason":"Merged to main","dependencies":[{"issue_id":"gno-i7b.2","depends_on_id":"gno-i7b","type":"parent-child","created_at":"2025-12-23T14:51:17.926772+01:00","created_by":"daemon"},{"issue_id":"gno-i7b.2","depends_on_id":"gno-i7b.1","type":"blocks","created_at":"2025-12-23T14:53:55.253943+01:00","created_by":"daemon"}]}
{"id":"gno-i7b.3","title":"T5.3: Chunking (deterministic, tokenizer-aware)","description":"Token-aware chunking (maxTokens=800, overlap=15%). Fallback to char-based if no tokenizer. Store in content_chunks with (mirror_hash, seq, pos, text, start_line, end_line). Reference: docs/prd.md §10.1.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:24.734987+01:00","updated_at":"2025-12-24T13:48:58.351201+01:00","closed_at":"2025-12-24T13:48:58.351201+01:00","close_reason":"Implemented in EPIC 5 PR","dependencies":[{"issue_id":"gno-i7b.3","depends_on_id":"gno-i7b","type":"parent-child","created_at":"2025-12-23T14:51:24.735894+01:00","created_by":"daemon"},{"issue_id":"gno-i7b.3","depends_on_id":"gno-i7b.2","type":"blocks","created_at":"2025-12-23T14:53:56.172494+01:00","created_by":"daemon"}]}
{"id":"gno-i7b.4","title":"T5.4: FTS5 indexing over chunks + snippet extraction","description":"FTS5 virtual table over chunk text. Default tokenizer unicode61. Snippet extraction with optional line ranges. Reference: docs/prd.md §10.3-§10.4.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:31.934194+01:00","updated_at":"2025-12-26T22:19:21.667532+01:00","closed_at":"2025-12-26T22:19:21.667532+01:00","close_reason":"Implemented - embed --force works, FTS5 over chunks exists, markitdown-ts adapter exists","dependencies":[{"issue_id":"gno-i7b.4","depends_on_id":"gno-i7b","type":"parent-child","created_at":"2025-12-23T14:51:31.935437+01:00","created_by":"daemon"},{"issue_id":"gno-i7b.4","depends_on_id":"gno-i7b.3","type":"blocks","created_at":"2025-12-23T14:53:57.04403+01:00","created_by":"daemon"}]}
{"id":"gno-i7b.5","title":"T5.5: gno status and gno cleanup commands","description":"gno status shows doc/chunk counts, embedding backlog, errors. gno cleanup removes orphaned content/chunks/vectors not referenced by active docs. Reference: docs/prd.md §7.2 and §14.2.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T14:51:38.665495+01:00","updated_at":"2025-12-24T13:48:58.352845+01:00","closed_at":"2025-12-24T13:48:58.352845+01:00","close_reason":"Implemented in EPIC 5 PR","dependencies":[{"issue_id":"gno-i7b.5","depends_on_id":"gno-i7b","type":"parent-child","created_at":"2025-12-23T14:51:38.671208+01:00","created_by":"daemon"}]}
{"id":"gno-i7b.6","title":"T5.6: index command wrapper (update + embed)","description":"gno index [--no-embed] [--collection] [--models-pull] [--yes] runs update then embed. Human-friendly alias. Reference: docs/prd.md §7.2.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:44.622449+01:00","updated_at":"2025-12-24T13:48:58.354167+01:00","closed_at":"2025-12-24T13:48:58.354167+01:00","close_reason":"Implemented in EPIC 5 PR","dependencies":[{"issue_id":"gno-i7b.6","depends_on_id":"gno-i7b","type":"parent-child","created_at":"2025-12-23T14:51:44.623436+01:00","created_by":"daemon"}]}
{"id":"gno-i7b.7","title":"T5.7: Language tagging (document hint, per-chunk detection)","description":"Store document language_hint from converter. Deterministic per-chunk language detection (no network, pinned detector version). Store chunk.language (BCP-47 or und). Surface snippetLanguage in outputs. Reference: docs/prd.md §10.2.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T14:51:51.110541+01:00","updated_at":"2025-12-24T13:48:58.355217+01:00","closed_at":"2025-12-24T13:48:58.355217+01:00","close_reason":"Implemented in EPIC 5 PR","dependencies":[{"issue_id":"gno-i7b.7","depends_on_id":"gno-i7b","type":"parent-child","created_at":"2025-12-23T14:51:51.111482+01:00","created_by":"daemon"}]}
{"id":"gno-ia1","title":"EPIC 7: Vector index and embeddings workflow (gno embed)","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-23T14:50:52.065476+01:00","updated_at":"2025-12-25T00:17:00.316924+01:00","closed_at":"2025-12-25T00:17:00.316924+01:00","close_reason":"EPIC 7 complete: vector index, stats, embed command merged","dependencies":[{"issue_id":"gno-ia1","depends_on_id":"gno-i7b","type":"blocks","created_at":"2025-12-23T14:53:25.019329+01:00","created_by":"daemon"},{"issue_id":"gno-ia1","depends_on_id":"gno-v8w","type":"blocks","created_at":"2025-12-23T14:53:25.635746+01:00","created_by":"daemon"}]}
{"id":"gno-ia1.1","title":"T7.1: sqlite-vec integration (handle optional deps cleanly)","description":"Integrate sqlite-vec for vector storage. Handle as optional dep - graceful degradation if unavailable. content_vectors table: (mirror_hash, seq, model) PK, embedding blob, embedded_at. Reference: docs/prd.md §9.2.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:50:59.042823+01:00","updated_at":"2025-12-25T00:16:55.088243+01:00","closed_at":"2025-12-25T00:16:55.088243+01:00","close_reason":"Completed in EPIC 7 vector embeddings PR","dependencies":[{"issue_id":"gno-ia1.1","depends_on_id":"gno-ia1","type":"parent-child","created_at":"2025-12-23T14:50:59.044367+01:00","created_by":"daemon"}]}
{"id":"gno-ia1.2","title":"T7.2: Embedding backlog detection","description":"Query chunks without embeddings for current model. Report backlog count in 'gno status'. Reference: docs/prd.md §7.3.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:05.362607+01:00","updated_at":"2025-12-25T00:16:55.091019+01:00","closed_at":"2025-12-25T00:16:55.091019+01:00","close_reason":"Completed in EPIC 7 vector embeddings PR","dependencies":[{"issue_id":"gno-ia1.2","depends_on_id":"gno-ia1","type":"parent-child","created_at":"2025-12-23T14:51:05.363433+01:00","created_by":"daemon"}]}
{"id":"gno-ia1.3","title":"T7.3: Batch embed chunks and store vectors per model","description":"'gno embed [--force] [--model] [--batch-size]' embeds pending chunks. Store vectors keyed by (mirror_hash, seq, model). Batching for efficiency. Reference: docs/prd.md §14.2.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:12.646669+01:00","updated_at":"2025-12-25T00:16:55.094489+01:00","closed_at":"2025-12-25T00:16:55.094489+01:00","close_reason":"Completed in EPIC 7 vector embeddings PR","dependencies":[{"issue_id":"gno-ia1.3","depends_on_id":"gno-ia1","type":"parent-child","created_at":"2025-12-23T14:51:12.648839+01:00","created_by":"daemon"},{"issue_id":"gno-ia1.3","depends_on_id":"gno-ia1.1","type":"blocks","created_at":"2025-12-23T14:53:58.010345+01:00","created_by":"daemon"}]}
{"id":"gno-ia1.4","title":"T7.4: --force re-embed support","description":"'gno embed --force' re-embeds all chunks even if vectors exist. Useful for model upgrades. Reference: docs/prd.md §14.2.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T14:51:19.587005+01:00","updated_at":"2025-12-26T22:19:21.663794+01:00","closed_at":"2025-12-26T22:19:21.663794+01:00","close_reason":"Implemented - embed --force works, FTS5 over chunks exists, markitdown-ts adapter exists","dependencies":[{"issue_id":"gno-ia1.4","depends_on_id":"gno-ia1","type":"parent-child","created_at":"2025-12-23T14:51:19.587664+01:00","created_by":"daemon"},{"issue_id":"gno-ia1.4","depends_on_id":"gno-ia1.3","type":"blocks","created_at":"2025-12-23T14:53:58.829541+01:00","created_by":"daemon"}]}
{"id":"gno-iu7","title":"EPIC: World-Class Documentation","description":"# Implementation Plan\n\n## Overview\nCreate world-class documentation for GNO - **11 deliverables** (9 Markdown docs + llms.txt + GLOSSARY).\n\n## Key Resources\n- **PRD.md** - Product requirements, goals, personas, workflows, architecture\n- **docs/NOTES.md** - Internal architecture notes, score semantics, design decisions\n- **spec/cli.md** - CLI contract (25+ commands)\n- **spec/mcp.md** - MCP tools/resources contract\n\n## Key Decisions (from review)\n\n### Source of Truth Strategy\n- **Spec files** (spec/cli.md, spec/mcp.md) are the contract - user docs link to spec, never duplicate\n- **Markdown is source** - docs/*.html will eventually be generated from Markdown (or deprecated)\n- **llms.txt is an index** - links to docs with short descriptions, not full content\n\n### Doc Verification Harness\n- Add `bun run docs:verify` script\n- Uses `test/fixtures/docs-corpus/` collection\n- Temp dirs for config/data/cache (no user state mutation)\n- Tests quickstart commands with `--yes` and `--json`\n\n### Capabilities Matrix (for INSTALLATION)\n| Feature | Requirements |\n|---------|-------------|\n| BM25 search, get, ls | Works everywhere |\n| vsearch/hybrid vectors | sqlite-vec extension |\n| rerank/ask --answer | Models cached |\n\nCanonical verification: `gno doctor`\n\n## Approach\n\n### Phase 1: Foundation (parallelizable)\n1. **D3: INSTALLATION.md** - Install paths, prereqs, capabilities matrix, `gno doctor` verification\n2. **D2: QUICKSTART.md** - Zero-to-search in \u003c5 min, assumes gno installed (links to D3)\n3. **D1: README.md rewrite** - Gateway doc, badges, links to all docs (write last)\n\n### Phase 2: Reference Docs\n4. **D4: ARCHITECTURE.md** - C4 Context/Container diagrams, pipeline ASCII art\n5. **D5: CLI.md** - Guide + examples, links to spec/cli.md for exhaustive reference (NO duplication)\n6. **D6: MCP.md** - AI agent setup guide, links to spec/mcp.md for tool schemas\n\n### Phase 3: User Guides\n7. **D7: USE-CASES.md** - Real scenarios with init-index-query flows\n8. **D8: CONFIGURATION.md** - YAML config reference, model presets\n9. **D9: TROUBLESHOOTING.md** - Decision trees keyed to `gno doctor` checks + exit codes\n\n### Phase 4: AI \u0026 Polish\n10. **llms.txt** - Index format: short descriptions + links (not full content)\n11. **GLOSSARY.md** - Key terms: Collection, Context, docid, Virtual URI, Source/Mirror\n\n## Key Conventions\n- Example-driven: every command shows real invocation + output\n- Self-contained sections for AI retrieval\n- Progressive disclosure: simple first, complexity linked\n- Copy-pasteable: no placeholders in shell examples\n- Version-aware: state Bun/macOS requirements\n- **Never duplicate spec** - link to spec sections instead\n\n## Acceptance Criteria\n- [ ] All 11 deliverables written and cross-linked\n- [ ] `bun run docs:verify` passes (executable examples tested)\n- [ ] llms.txt follows index format\n- [ ] No contradictions between user docs and spec/*.md\n- [ ] All flag/option claims link to spec anchors\n\n## Dependencies\n- D3 and D2 parallel; D1 (README) last to link accurately\n- spec/cli.md informs D5; spec/mcp.md informs D6\n- docs/NOTES.md informs D4; PRD.md informs USE-CASES + GLOSSARY\n\n## Open Questions (resolved)\n1. Minimum Bun version: Check package.json engines field\n2. llms.txt: Index format (decided)\n3. D5/D6 strategy: Link to spec (decided)\n\n## Risks\n- Large scope - may batch across sessions\n- HTML docs (docs/*.html) need deprecation or generation plan\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-29T02:18:06.443298+01:00","updated_at":"2025-12-29T22:38:43.422086+01:00","closed_at":"2025-12-29T22:38:43.422086+01:00","close_reason":"All 12 deliverables complete + website pSEO"}
{"id":"gno-iu7.1","title":"D3: Write INSTALLATION.md","description":"All install methods (brew, bun), macOS SQLite prereq, version requirements, platform matrix. First doc to write - blocks QUICKSTART.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T09:09:32.040834+01:00","updated_at":"2025-12-29T10:01:36.448299+01:00","closed_at":"2025-12-29T10:01:36.448299+01:00","close_reason":"Created INSTALLATION.md with platform reqs, capabilities matrix, model setup","dependencies":[{"issue_id":"gno-iu7.1","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:32.046597+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.10","title":"D10: Create llms.txt","description":"AI-readable index per llmstxt.org spec. H1 name, blockquote summary, H2 sections linking to docs. Auto-testable format.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-29T09:09:55.829722+01:00","updated_at":"2025-12-29T10:09:30.510555+01:00","closed_at":"2025-12-29T10:09:30.510555+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-iu7.10","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:55.840814+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.11","title":"D11: Create GLOSSARY.md","description":"Key terms: Collection, Context, docid, Virtual URI (gno://), Source, Mirror, mirrorHash, chunk, embedding, BM25, RRF.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-29T09:09:56.975845+01:00","updated_at":"2025-12-29T10:10:21.775877+01:00","closed_at":"2025-12-29T10:10:21.775877+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-iu7.11","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:56.986591+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.12","title":"D0: Create docs:verify harness","description":"Add bun run docs:verify script + test/fixtures/docs-corpus/.\n\nRequirements:\n- BM25-only commands (no vsearch/hybrid unless sqlite-vec guaranteed)\n- No --answer (avoids model dependency)\n- Run gno doctor --json first; branch on capabilities\n- Fixture config has NO updateCmd (security + determinism)\n- Uses temp dirs for config/data/cache\n\nAlso add markdown-link-check to CI for spec anchor enforcement.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T09:14:47.080182+01:00","updated_at":"2025-12-29T10:00:10.168654+01:00","closed_at":"2025-12-29T10:00:10.168654+01:00","close_reason":"Added bun run docs:verify harness + test corpus","dependencies":[{"issue_id":"gno-iu7.12","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:14:47.088863+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.2","title":"D2: Write QUICKSTART.md","description":"Zero-to-search in \u003c5 min. Copy-paste examples, 3 commands: init, index, ask. Depends on INSTALLATION for prereqs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T09:09:33.789788+01:00","updated_at":"2025-12-29T10:02:13.563736+01:00","closed_at":"2025-12-29T10:02:13.563736+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-iu7.2","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:33.793681+01:00","created_by":"daemon"},{"issue_id":"gno-iu7.2","depends_on_id":"gno-iu7.1","type":"blocks","created_at":"2025-12-29T09:10:05.565841+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.3","title":"D1: Rewrite README.md","description":"Gateway doc: badges, why GNO, feature highlights, quick example, links to all docs. Depends on QUICKSTART/INSTALLATION.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T09:09:35.896615+01:00","updated_at":"2025-12-29T10:02:56.575185+01:00","closed_at":"2025-12-29T10:02:56.575185+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-iu7.3","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:35.901032+01:00","created_by":"daemon"},{"issue_id":"gno-iu7.3","depends_on_id":"gno-iu7.2","type":"blocks","created_at":"2025-12-29T09:10:05.651241+01:00","created_by":"daemon"},{"issue_id":"gno-iu7.3","depends_on_id":"gno-iu7.1","type":"blocks","created_at":"2025-12-29T09:10:05.722907+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.4","title":"D4: Write ARCHITECTURE.md","description":"User-facing architecture: C4 Context/Container diagrams (ASCII), pipeline flow, data path. Reference docs/NOTES.md internals.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:09:37.225684+01:00","updated_at":"2025-12-29T10:04:03.643833+01:00","closed_at":"2025-12-29T10:04:03.643833+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-iu7.4","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:37.230302+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.5","title":"D5: Write CLI.md","description":"User-facing CLI reference. Derive from spec/cli.md, add examples, organize by workflow (init, index, search, ask, admin).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:09:38.511658+01:00","updated_at":"2025-12-29T10:05:01.364974+01:00","closed_at":"2025-12-29T10:05:01.364974+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-iu7.5","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:38.517592+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.6","title":"D6: Write MCP.md","description":"AI agent integration guide. Claude Desktop config, Cursor config, tool reference, resource reference. Ref spec/mcp.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:09:39.686566+01:00","updated_at":"2025-12-29T10:05:55.904878+01:00","closed_at":"2025-12-29T10:05:55.904878+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-iu7.6","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:39.69451+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.7","title":"D7: Write USE-CASES.md","description":"Real-world scenarios: personal notes, code search, meeting transcripts, research papers. Each with init-index-query flow.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:09:52.461177+01:00","updated_at":"2025-12-29T10:06:50.126499+01:00","closed_at":"2025-12-29T10:06:50.126499+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-iu7.7","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:52.465491+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.8","title":"D8: Write CONFIGURATION.md","description":"YAML config reference: collections, contexts, model presets (slim/balanced/quality), glob patterns, include/exclude.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:09:53.681671+01:00","updated_at":"2025-12-29T10:07:57.505044+01:00","closed_at":"2025-12-29T10:07:57.505044+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-iu7.8","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:53.68802+01:00","created_by":"daemon"}]}
{"id":"gno-iu7.9","title":"D9: Write TROUBLESHOOTING.md","description":"Exit codes, common errors, gno doctor output, macOS SQLite issues, model download problems, poor search results diagnosis.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:09:54.845292+01:00","updated_at":"2025-12-29T10:08:46.012938+01:00","closed_at":"2025-12-29T10:08:46.012938+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-iu7.9","depends_on_id":"gno-iu7","type":"parent-child","created_at":"2025-12-29T09:09:54.850382+01:00","created_by":"daemon"}]}
{"id":"gno-jo3","title":"Web UI: standalone visual interface for search/browse","description":"## Plan Summary\n\nAdd `gno serve [--port N]` command that runs Bun.serve() web server for visual search/browse.\n\n### Distribution\n**Primary:** `bunx gno serve` / `bun install -g gno`\n- All features work via package manager install\n- macOS vector search requires Homebrew SQLite (documented in README)\n\n### Scope\n\n**In:**\n- `/` Dashboard (index stats, collection counts)\n- `/search` Hybrid search UI (query input, results with snippets, load-more pagination)\n- `/browse` Collection/document list (flat, paginated per-collection)\n- `/doc?uri=...` Document viewer (sanitized markdown rendering)\n- `/api/*` JSON endpoints with explicit error schema\n\n**Out (explicit):**\n- Note creation/mutations (read-only v1)\n- User auth/sessions\n- Multi-user/sharing features\n- Offline PWA support\n- Tree-based file browser (v1 is flat list)\n- Offset pagination (use load-more pattern)\n- Single binary distribution (stretch goal only)\n\n### Key Decisions\n- Search mode: Single `/search` with mode dropdown (bm25/vector/hybrid)\n- Pagination: **Load-more pattern** (increase limit, stateless) - no offset\n- Doc identifier: `/doc?uri=gno://...` (stable, matches MCP resource model)\n- Port: `--port` flag, default 3000\n- CORS: Same-origin only (local use)\n- API format: Match CLI JSON schemas + explicit error envelope `{error:{code,message}}`\n- HTTP status codes: 200 success, 4xx/5xx with error schema\n- Frontend: Minimal React + Tailwind, no heavy deps, client-side routing only\n- **XSS mitigation**: DOMPurify + CSP header (no inline scripts)\n- **DB lifecycle**: Open once on server start, close on shutdown (not per-request)\n\n### Architecture\n```\nsrc/serve/\n├── server.ts        # Bun.serve() setup, route wiring, DB lifecycle\n├── routes/\n│   ├── api.ts       # /api/* handlers (status, collections, docs, search)\n│   └── pages.ts     # HTML page routes (SPA entry)\n├── public/\n│   ├── index.html   # Entry (imports app.tsx)\n│   ├── app.tsx      # React app root + simple client router\n│   ├── pages/       # Dashboard, Search, Browse, DocView\n│   └── components/  # Shared UI components\n└── index.ts         # CLI command export\n```\n\n### Security\n- Markdown rendered with DOMPurify sanitization\n- CSP header: default-src 'self'; script-src 'self'\n- No inline scripts in HTML\n- Validate/sanitize URI params\n\n### References\n- CLI pattern: `src/cli/commands/status.ts:120-159`\n- Store API: `src/store/sqlite/adapter.ts` (getStatus, listDocuments, searchFts)\n- Pipeline: `src/pipeline/` (searchBm25, searchVector, searchHybrid)\n- Output schemas: `spec/output-schemas/`\n- Bun.serve docs: https://bun.sh/docs/runtime/http/server","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-29T09:58:27.31069+01:00","updated_at":"2025-12-29T10:41:56.968826+01:00"}
{"id":"gno-jo3.1","title":"Server foundation: Bun.serve setup + CLI command","description":"Create src/serve/server.ts with Bun.serve(), wire gno serve command in CLI.\n\n**Key: Keep DB open for server lifetime (not per-request)**\n\nAcceptance:\n- `gno serve` starts server on default port 3000\n- `gno serve --port 8080` uses custom port\n- Opens SqliteAdapter once at startup, closes on SIGINT/SIGTERM\n- Health check at /api/health returns {ok:true}\n- Sets CSP header: default-src 'self'; script-src 'self'\n\nFiles:\n- src/serve/server.ts (new) - Bun.serve + DB lifecycle\n- src/serve/index.ts (new) - CLI command export\n- src/cli/commands/serve.ts (new) - Commander wiring\n- src/cli/program.ts (wire command)\n- spec/cli.md (document command)","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-29T10:14:23.136168+01:00","updated_at":"2025-12-29T10:24:44.970931+01:00","dependencies":[{"issue_id":"gno-jo3.1","depends_on_id":"gno-jo3","type":"parent-child","created_at":"2025-12-29T10:14:23.145636+01:00","created_by":"daemon"}]}
{"id":"gno-jo3.2","title":"API routes: /api/status, /api/collections, /api/search","description":"Implement JSON API endpoints reusing store/pipeline.\n\nEndpoints:\n- GET /api/status → IndexStatus (from getStatus)\n- GET /api/collections → CollectionRow[] (from getCollections)\n- GET /api/docs?collection=X\u0026limit=N\u0026offset=M → paginated docs\n- POST /api/search → search results (body: {query, mode, limit})\n\nAcceptance:\n- Response schemas match spec/output-schemas/\n- Error responses: {error:{code,message}}\n- Request validation with proper 400 responses\n\nFiles:\n- src/serve/routes/api.ts (new)\n- spec/output-schemas/api-*.json (if needed)","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-29T10:14:24.30655+01:00","updated_at":"2025-12-29T10:14:24.30655+01:00","dependencies":[{"issue_id":"gno-jo3.2","depends_on_id":"gno-jo3","type":"parent-child","created_at":"2025-12-29T10:14:24.311111+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.2","depends_on_id":"gno-jo3.1","type":"blocks","created_at":"2025-12-29T10:14:43.730169+01:00","created_by":"daemon"}]}
{"id":"gno-jo3.3","title":"Frontend scaffold: React app with routing","description":"Set up React SPA with client-side routing.\n\nStructure:\n- src/serve/public/index.html (entry)\n- src/serve/public/app.tsx (React root + router)\n- src/serve/public/styles.css (Tailwind)\n\nPages (stub):\n- Dashboard (/)\n- Search (/search)\n- Browse (/browse)\n- DocView (/doc/:id)\n\nAcceptance:\n- Pages render with navigation\n- URL changes work (history API)\n- Tailwind styles applied\n\nNote: Use HTML imports per CLAUDE.md - no vite/webpack.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-29T10:14:25.576533+01:00","updated_at":"2025-12-29T10:14:25.576533+01:00","dependencies":[{"issue_id":"gno-jo3.3","depends_on_id":"gno-jo3","type":"parent-child","created_at":"2025-12-29T10:14:25.583353+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.3","depends_on_id":"gno-jo3.1","type":"blocks","created_at":"2025-12-29T10:14:43.804028+01:00","created_by":"daemon"}]}
{"id":"gno-jo3.4","title":"Dashboard page: index stats + collection overview","description":"Implement Dashboard page at /.\n\nFeatures:\n- Index status (doc count, chunk count, has embeddings)\n- Collection list with doc counts\n- Click collection → navigate to /browse?collection=X\n\nData source: GET /api/status, GET /api/collections\n\nAcceptance:\n- Shows meaningful stats from real index\n- Empty state when no docs indexed\n- Loading state while fetching","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-29T10:14:26.764271+01:00","updated_at":"2025-12-29T10:14:26.764271+01:00","dependencies":[{"issue_id":"gno-jo3.4","depends_on_id":"gno-jo3","type":"parent-child","created_at":"2025-12-29T10:14:26.771599+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.4","depends_on_id":"gno-jo3.2","type":"blocks","created_at":"2025-12-29T10:14:43.875566+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.4","depends_on_id":"gno-jo3.3","type":"blocks","created_at":"2025-12-29T10:14:43.95496+01:00","created_by":"daemon"}]}
{"id":"gno-jo3.5","title":"Search page: query input + results display","description":"Implement Search page at /search.\n\nFeatures:\n- Query input with debounce (300ms)\n- Mode selector (BM25, Vector, Hybrid)\n- Results list with snippets + highlighting (DOMPurify sanitized)\n- **Load-more pattern** (increase limit, no offset pagination)\n- Click result → /doc?uri=...\n\nData source: POST /api/search\n\nAcceptance:\n- Search returns results matching CLI behavior\n- Query param preserved in URL (?q=...)\n- Load more button increases limit (10 → 20 → 30...)\n- Graceful handling of no results\n- Vector search shows message if no embeddings","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-29T10:14:27.880498+01:00","updated_at":"2025-12-29T10:24:46.429643+01:00","dependencies":[{"issue_id":"gno-jo3.5","depends_on_id":"gno-jo3","type":"parent-child","created_at":"2025-12-29T10:14:27.883562+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.5","depends_on_id":"gno-jo3.2","type":"blocks","created_at":"2025-12-29T10:14:44.048768+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.5","depends_on_id":"gno-jo3.3","type":"blocks","created_at":"2025-12-29T10:14:44.132196+01:00","created_by":"daemon"}]}
{"id":"gno-jo3.6","title":"Browse page: collection/document tree","description":"Implement Browse page at /browse.\n\n**v1: Flat document list per-collection (no tree navigation)**\n\nFeatures:\n- Collection selector dropdown\n- Document list for selected collection (flat, not tree)\n- Load-more pagination\n- Click doc → /doc?uri=...\n\nData source: GET /api/collections, GET /api/docs\n\nAcceptance:\n- Can navigate all collections\n- Large collections use load-more correctly\n- Shows doc titles and relative paths","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-29T10:14:29.311598+01:00","updated_at":"2025-12-29T10:24:48.549262+01:00","dependencies":[{"issue_id":"gno-jo3.6","depends_on_id":"gno-jo3","type":"parent-child","created_at":"2025-12-29T10:14:29.315766+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.6","depends_on_id":"gno-jo3.2","type":"blocks","created_at":"2025-12-29T10:14:44.204446+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.6","depends_on_id":"gno-jo3.3","type":"blocks","created_at":"2025-12-29T10:14:44.273049+01:00","created_by":"daemon"}]}
{"id":"gno-jo3.7","title":"DocView page: rendered markdown viewer","description":"Implement DocView page at /doc.\n\n**Route: /doc?uri=gno://... (stable identifier)**\n\nFeatures:\n- Fetch doc content by URI\n- Render markdown with **DOMPurify sanitization**\n- Show metadata (source path, collection, updated)\n- Back navigation to search/browse\n\nData source: GET /api/doc?uri=...\n\nAcceptance:\n- Markdown renders correctly (headings, code, lists)\n- Code blocks have syntax highlighting\n- **XSS attacks in markdown content are sanitized**\n- 404 page for invalid URI\n- Loading state while fetching","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-29T10:14:30.446073+01:00","updated_at":"2025-12-29T10:24:49.660795+01:00","dependencies":[{"issue_id":"gno-jo3.7","depends_on_id":"gno-jo3","type":"parent-child","created_at":"2025-12-29T10:14:30.456182+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.7","depends_on_id":"gno-jo3.2","type":"blocks","created_at":"2025-12-29T10:14:44.341061+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.7","depends_on_id":"gno-jo3.3","type":"blocks","created_at":"2025-12-29T10:14:44.410173+01:00","created_by":"daemon"}]}
{"id":"gno-jo3.8","title":"[Stretch] Single binary compilation","description":"**STRETCH GOAL** - Not required for v1\n\nPrimary distribution: `bunx gno` / `bun install -g gno`\n\n### Limitations\n- macOS: sqlite-vec requires Homebrew SQLite (system SQLite blocks extensions)\n- node-llama-cpp: Native binaries can't be embedded\n- Single binary only viable for BM25-only deployments\n\n### If pursued\n- Test bun build --compile for BM25 subset\n- Document what works vs doesn't\n- Target headless/container deployments\n\nRefs: https://bun.sh/docs/bundler/executables","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T10:14:32.272676+01:00","updated_at":"2025-12-29T10:41:55.895999+01:00","dependencies":[{"issue_id":"gno-jo3.8","depends_on_id":"gno-jo3","type":"parent-child","created_at":"2025-12-29T10:14:32.276769+01:00","created_by":"daemon"},{"issue_id":"gno-jo3.8","depends_on_id":"gno-jo3.7","type":"blocks","created_at":"2025-12-29T10:14:44.48157+01:00","created_by":"daemon"}]}
{"id":"gno-kos","title":"EPIC 1: Specs and contract tests (freeze interfaces early)","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-23T14:51:18.383285+01:00","updated_at":"2025-12-23T16:02:09.832329+01:00","closed_at":"2025-12-23T16:02:09.832329+01:00","close_reason":"All child tasks complete"}
{"id":"gno-kos.1","title":"T1.1: Write spec/cli.md (commands, flags, exit codes, output formats)","description":"Document all CLI commands from §14, flags, exit codes (0/1/2), output format flags (--json/--files/--csv/--md/--xml). Reference: docs/prd.md §14.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:24.753932+01:00","updated_at":"2025-12-23T16:02:03.058238+01:00","closed_at":"2025-12-23T16:02:03.058238+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-kos.1","depends_on_id":"gno-kos","type":"parent-child","created_at":"2025-12-23T14:51:24.754712+01:00","created_by":"daemon"}]}
{"id":"gno-kos.2","title":"T1.2: Write spec/mcp.md (tools/resources, schemas, versioning)","description":"Document MCP server spec: stdio transport, tools (gno.search/vsearch/query/get/multi_get/status), resources (gno:// URIs), schema versioning rules. Reference: docs/prd.md §16.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:31.413516+01:00","updated_at":"2025-12-23T16:02:03.060608+01:00","closed_at":"2025-12-23T16:02:03.060608+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-kos.2","depends_on_id":"gno-kos","type":"parent-child","created_at":"2025-12-23T14:51:31.41539+01:00","created_by":"daemon"}]}
{"id":"gno-kos.3","title":"T1.3: Write spec/output-schemas/*.json","description":"Create JSON schemas for: search result item, status payload, get payload, multi-get payload, MCP tool outputs, ask payload. Reference: docs/prd.md §15.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:36.670891+01:00","updated_at":"2025-12-23T16:02:03.062359+01:00","closed_at":"2025-12-23T16:02:03.062359+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-kos.3","depends_on_id":"gno-kos","type":"parent-child","created_at":"2025-12-23T14:51:36.67212+01:00","created_by":"daemon"}]}
{"id":"gno-kos.4","title":"T1.4: Add contract tests validating JSON outputs against schemas","description":"Create bun tests that validate CLI/MCP outputs against JSON schemas from T1.3. Run before feature implementation. Reference: docs/prd.md §22 EPIC 1.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:43.840223+01:00","updated_at":"2025-12-23T16:02:03.064336+01:00","closed_at":"2025-12-23T16:02:03.064336+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-kos.4","depends_on_id":"gno-kos","type":"parent-child","created_at":"2025-12-23T14:51:43.841679+01:00","created_by":"daemon"},{"issue_id":"gno-kos.4","depends_on_id":"gno-kos.3","type":"blocks","created_at":"2025-12-23T14:53:48.038719+01:00","created_by":"daemon"}]}
{"id":"gno-mu3","title":"EPIC 4: Converter subsystem (Node-only, deterministic)","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-23T14:51:01.535858+01:00","updated_at":"2025-12-24T13:48:44.526418+01:00","closed_at":"2025-12-24T13:48:44.526418+01:00","close_reason":"Merged to main","dependencies":[{"issue_id":"gno-mu3","depends_on_id":"gno-8db","type":"blocks","created_at":"2025-12-23T14:53:22.793938+01:00","created_by":"daemon"}],"comments":[{"id":5,"issue_id":"gno-mu3","author":"gordon","text":"Spec: docs/prd.md §8 (Converter subsystem). Future: spec/converters.md. Golden fixtures in test/fixtures/conversion/","created_at":"2025-12-23T15:15:13Z"}]}
{"id":"gno-mu3.1","title":"T4.1: MIME detector + tests","description":"Implement MimeDetector interface. Layered detection: 1) extension map (.md→text/markdown, .pdf→application/pdf, etc.), 2) byte sniffing (%PDF-, PK zip header). Return {mime, ext, confidence, via}. Reference: docs/prd.md §8.5.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:12.397181+01:00","updated_at":"2025-12-24T13:48:44.529184+01:00","closed_at":"2025-12-24T13:48:44.529184+01:00","close_reason":"Merged to main","dependencies":[{"issue_id":"gno-mu3.1","depends_on_id":"gno-mu3","type":"parent-child","created_at":"2025-12-23T14:51:12.397528+01:00","created_by":"daemon"}]}
{"id":"gno-mu3.2","title":"T4.2: Canonical Markdown normalizer + tests","description":"Deterministic normalization rules: \\n newlines, strip \\u0000 and non-printables except \\n\\t, trim trailing whitespace per line, collapse 3+ blank lines to 2, ensure single final newline. NO timestamps or paths in output. Reference: docs/prd.md §8.4.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:20.38782+01:00","updated_at":"2025-12-24T13:48:44.530752+01:00","closed_at":"2025-12-24T13:48:44.530752+01:00","close_reason":"Merged to main","dependencies":[{"issue_id":"gno-mu3.2","depends_on_id":"gno-mu3","type":"parent-child","created_at":"2025-12-23T14:51:20.388842+01:00","created_by":"daemon"}]}
{"id":"gno-mu3.3","title":"T4.3: Converter interfaces, registry, error mapping + tests","description":"Types in src/converters/types.ts: ConverterId, ConvertInput, ConvertWarning, ConvertOutput, ConvertResult, Converter interface. Error codes: UNSUPPORTED, TOO_LARGE, TIMEOUT, CORRUPT, etc. Registry selects first canHandle() match. Reference: docs/prd.md §8.2-§8.3.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:27.667735+01:00","updated_at":"2025-12-24T13:48:44.532237+01:00","closed_at":"2025-12-24T13:48:44.532237+01:00","close_reason":"Merged to main","dependencies":[{"issue_id":"gno-mu3.3","depends_on_id":"gno-mu3","type":"parent-child","created_at":"2025-12-23T14:51:27.669107+01:00","created_by":"daemon"}]}
{"id":"gno-mu3.4","title":"T4.4: Native markdown/plaintext converters","description":"Implement native/markdown (passthrough + canonicalization) and native/plaintext (wrap as markdown + canonicalization) converters. Reference: docs/prd.md §8.6.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:36.670959+01:00","updated_at":"2025-12-24T13:48:44.533903+01:00","closed_at":"2025-12-24T13:48:44.533903+01:00","close_reason":"Merged to main"}
{"id":"gno-mu3.6","title":"T4.5: markitdown-js adapter + golden fixtures","description":"Adapter for markitdown-js library (NO Python). Handle pdf/docx/pptx/xlsx. Enforce maxBytes and timeoutMs. Map exceptions to ConvertError. Golden fixtures in test/fixtures/conversion/{pdf,docx,pptx,xlsx}/*.expected.md. Reference: docs/prd.md §8.7-§8.8.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:48.859521+01:00","updated_at":"2025-12-26T22:19:21.670628+01:00","closed_at":"2025-12-26T22:19:21.670628+01:00","close_reason":"Implemented - embed --force works, FTS5 over chunks exists, markitdown-ts adapter exists","dependencies":[{"issue_id":"gno-mu3.6","depends_on_id":"gno-mu3","type":"parent-child","created_at":"2025-12-23T14:51:48.860442+01:00","created_by":"daemon"}]}
{"id":"gno-n5m","title":"EPIC 9: Retrieval and output polish","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-23T14:51:02.412031+01:00","updated_at":"2025-12-27T00:58:06.079436+01:00","closed_at":"2025-12-27T00:58:06.079436+01:00","close_reason":"All children complete (T9.1-T9.3)","dependencies":[{"issue_id":"gno-n5m","depends_on_id":"gno-h7i","type":"blocks","created_at":"2025-12-23T14:53:27.49348+01:00","created_by":"daemon"}],"comments":[{"id":3,"issue_id":"gno-n5m","author":"gordon","text":"Spec: spec/cli.md §get/multi-get/ls. Schemas: spec/output-schemas/get.schema.json, multi-get.schema.json","created_at":"2025-12-23T15:14:57Z"}]}
{"id":"gno-n5m.1","title":"T9.1: Output formatters (cli/json/files/csv/md/xml)","description":"Implement all output formats. --json structured output, --files line protocol (#docid,score,uri), --csv, --md, --xml. Reference: docs/prd.md §15.1-§15.2.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:46.666231+01:00","updated_at":"2025-12-26T22:18:37.100852+01:00","closed_at":"2025-12-26T22:18:37.100852+01:00","close_reason":"Formatters implemented in src/cli/format/search-results.ts with json/files/csv/md/xml - used by search/vsearch","dependencies":[{"issue_id":"gno-n5m.1","depends_on_id":"gno-n5m","type":"parent-child","created_at":"2025-12-23T14:51:46.667016+01:00","created_by":"daemon"}]}
{"id":"gno-n5m.2","title":"T9.2: gno get and multi-get with limits and skipped records","description":"gno get \u003cref\u003e retrieves single doc by gno:// URI, collection/path, or #docid. Supports :line suffix, --from, -l, --line-numbers, --source. gno multi-get for multiple docs with --max-bytes limit. Reference: docs/prd.md §13.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:51:48.470556+01:00","updated_at":"2025-12-27T00:57:51.437165+01:00","closed_at":"2025-12-27T00:57:51.437165+01:00","close_reason":"Implemented in commit a7152f8","dependencies":[{"issue_id":"gno-n5m.2","depends_on_id":"gno-n5m","type":"parent-child","created_at":"2025-12-23T14:51:48.472081+01:00","created_by":"daemon"}]}
{"id":"gno-n5m.3","title":"T9.3: gno ls (collections and per-prefix listing)","description":"gno ls [collection|gno://collection/prefix] lists documents. Reference: docs/prd.md §14.2.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T14:51:50.11855+01:00","updated_at":"2025-12-27T00:57:51.444578+01:00","closed_at":"2025-12-27T00:57:51.444578+01:00","close_reason":"Implemented in commit a7152f8","dependencies":[{"issue_id":"gno-n5m.3","depends_on_id":"gno-n5m","type":"parent-child","created_at":"2025-12-23T14:51:50.119875+01:00","created_by":"daemon"}]}
{"id":"gno-nqu","title":"Enforce maxBytes limit before file read (stat-based)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-24T08:59:59.567912+01:00","updated_at":"2025-12-27T11:22:27.857381+01:00","dependencies":[{"issue_id":"gno-nqu","depends_on_id":"gno-i7b","type":"parent-child","created_at":"2025-12-27T11:23:27.022194+01:00","created_by":"daemon"}],"comments":[{"id":9,"issue_id":"gno-nqu","author":"gordon","text":"During EPIC 4 planning, identified that maxBytes enforcement should happen before file bytes are loaded into memory. The converter receives bytes already loaded, so the size check is too late to prevent OOM.\n\nSolution: In EPIC 5 indexing pipeline, check file.size via stat BEFORE calling converter.convert(). If file exceeds maxBytes, skip conversion and record TOO_LARGE error without reading file bytes.\n\nThis keeps converter API clean (bytes already available) while preventing memory issues.","created_at":"2025-12-24T08:00:14Z"}]}
{"id":"gno-o0u","title":"vsearch N+1 query optimization","description":"Per-hit getChunks() + listDocuments() calls in vsearch.ts. Optimize with batch queries or extended SQL joins. Identified in T8 plan review.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T23:09:37.904787+01:00","updated_at":"2025-12-27T23:37:17.675891+01:00","closed_at":"2025-12-27T23:37:17.675891+01:00","close_reason":"N+1 optimization implemented with getChunksBatch()","dependencies":[{"issue_id":"gno-o0u","depends_on_id":"gno-h7i.1","type":"blocks","created_at":"2025-12-25T23:11:54.94752+01:00","created_by":"daemon"},{"issue_id":"gno-o0u","depends_on_id":"gno-h7i.2","type":"blocks","created_at":"2025-12-25T23:11:55.451136+01:00","created_by":"daemon"},{"issue_id":"gno-o0u","depends_on_id":"gno-h7i","type":"parent-child","created_at":"2025-12-27T11:23:10.576561+01:00","created_by":"daemon"}]}
{"id":"gno-ovm","title":"Reduce cognitive complexity in 11 functions (lint warnings)","description":"## Context\nBiome lint reports noExcessiveCognitiveComplexity warnings (max: 20) for these functions:\n\n| File | Function | Complexity |\n|------|----------|------------|\n| src/cli/commands/ask.ts:217 | ask() | 37 |\n| src/cli/commands/ask.ts:408 | formatTerminal() | 25 |\n| src/cli/commands/doctor.ts:146 | checkSqliteExtensions() | 28 |\n| src/cli/commands/query.ts:65 | query() | 25 |\n| src/ingestion/language.ts:153 | detectCjk() | 28 |\n| src/ingestion/sync.ts:188 | processFile() | 27 |\n| src/ingestion/sync.ts:412 | syncCollection() | 43 |\n| src/pipeline/fusion.ts:47 | rrfFuse() | 36 |\n| src/pipeline/hybrid.ts:182 | searchHybrid() | 83 |\n| src/pipeline/search.ts:117 | searchBm25() | 47 |\n| src/pipeline/vsearch.ts:47 | searchVectorWithEmbedding() | 58 |\n\n## Approach\nEach function needs to be split into smaller focused helpers. Common patterns:\n- Extract validation/setup logic\n- Extract result building logic\n- Extract error handling branches\n- Use early returns to reduce nesting\n\n## Priority\nP4 (backlog) - these are warnings not errors, code works correctly","status":"open","priority":4,"issue_type":"chore","created_at":"2025-12-27T23:39:05.526156+01:00","updated_at":"2025-12-27T23:39:05.526156+01:00"}
{"id":"gno-quw","title":"Distribution: Package manager support (Homebrew, Scoop, npm, etc.)","description":"Enable installation via npm. Standalone binaries not viable due to native deps (see gno-quw.1 spike).\n\n## Distribution Strategy\n**npm-only**: `bun add -g gno` or `bunx gno`\n- Requires Bun runtime\n- All features work (vector search, local embeddings)\n\n## Remaining Work\n- gno-quw.2: Version management\n- gno-quw.4: npm publishing setup  \n- gno-quw.11: Windows CI gating\n\n## Not Pursuing (spike results)\nStandalone binaries via `bun build --compile` not viable:\n- sqlite-vec needs sidecar .dylib (can't bundle)\n- node-llama-cpp can't be bundled (platform imports)\n- See notes/spike-bun-compile.md for details","status":"closed","priority":4,"issue_type":"epic","created_at":"2025-12-28T20:21:51.363629+01:00","updated_at":"2025-12-30T15:31:25.740543+01:00","closed_at":"2025-12-30T15:31:25.740543+01:00","close_reason":"npm distribution complete: version mgmt, publish workflow, CI matrix, Windows optimizations"}
{"id":"gno-quw.1","title":"Spike: Validate bun build --compile with native deps","description":"BLOCKING: Test if standalone binary actually works with native deps.\n\n## What We're Testing\n\nNative dependencies that may not bundle cleanly:\n1. **sqlite-vec** - SQLite extension for vector search (.dylib/.so/.dll)\n2. **node-llama-cpp** - LLM embeddings via llama.cpp bindings\n\nNote: Using bun:sqlite (built-in), not better-sqlite3 (no Bun compat)\n\nFuture considerations (not in this spike):\n- **Bun.serve()** web server for gno-jo3 (Web UI)\n- Static assets bundling for web interface\n\n## Steps\n1. Run: bun build --compile --minify src/index.ts --outfile gno-test\n2. Test on 'cold machine' conditions: no node_modules, no bun in PATH\n3. Run compiled binary: ./gno-test doctor --json\n4. Test vector search: ./gno-test search 'test query' (requires indexed data)\n5. Check if node-llama-cpp embedding works\n\n## Success Criteria (per dependency)\nFor each native dep, determine:\n- **Bundled**: Works inside compiled exe\n- **Sidecar**: Must ship .dylib/.so/.dll alongside binary\n- **Runtime download**: Must download at first run\n- **Unsupported**: Cannot work with bun --compile\n\n## Test Matrix\n- [ ] macOS arm64 (without Homebrew sqlite in test)\n- [ ] macOS x64\n- [ ] Linux x64\n- [ ] Windows x64\n\n## Output: Distribution Design Decision\nDocument for each native dep:\n1. Does it bundle into compiled binary?\n2. What filesystem layout is required?\n3. What runtime dependencies exist (Homebrew sqlite, etc)?\n\n## If spike fails\n- Fall back to Tier A: npm-only distribution (requires Bun runtime)\n- Document which deps failed and why\n- Research alternatives: sidecar binaries, runtime download, etc.\n\n## Files\n- src/store/vector/sqlite-vec.ts\n- src/store/sqlite/setup.ts\n- src/llm/nodeLlamaCpp/lifecycle.ts\n- src/cli/commands/doctor.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T20:22:13.125574+01:00","updated_at":"2025-12-30T11:50:00.82808+01:00","closed_at":"2025-12-30T11:50:00.82808+01:00","close_reason":"Spike complete. bun:sqlite works, sqlite-vec needs sidecar, node-llama-cpp unsupported. Recommend npm-only for initial release.","dependencies":[{"issue_id":"gno-quw.1","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:22:13.129934+01:00","created_by":"daemon"}]}
{"id":"gno-quw.10","title":"Automate Homebrew/Scoop manifest updates on release","description":"Auto-update package manager manifests when new releases ship.\n\n## Problem\nManual multi-repo updates don't scale. Every release requires updating:\n- homebrew-gno/Formula/gno.rb (version + SHA256)\n- scoop-gno/bucket/gno.json (version + hash)\n\n## Solution Options\n\n### Option A: GitHub Action in gno repo\nOn release publish event:\n1. Calculate SHA256 of release assets\n2. Open PR to homebrew-gno with updated formula\n3. Open PR to scoop-gno with updated manifest\n\n### Option B: Native tooling\n- Homebrew: Use `brew bump-formula-pr` in CI\n- Scoop: Use checkver + autoupdate built into manifest format\n\n### Recommendation\nOption B - use native tooling. Less custom code to maintain.\n\n## Implementation\n1. In homebrew-gno: use GitHub Action that runs `brew bump-formula-pr` on release\n2. In scoop-gno: configure checkver + autoupdate in manifest, run `scoop update` check\n\n## Dependencies\nMust complete after gno-quw.5 (Homebrew) and gno-quw.6 (Scoop) are set up.\n\n## Files\n- homebrew-gno/.github/workflows/update.yml (new)\n- scoop-gno/.github/workflows/update.yml (new)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T20:29:47.142379+01:00","updated_at":"2025-12-30T12:04:24.869208+01:00","closed_at":"2025-12-30T12:04:24.869208+01:00","close_reason":"Not needed - spike confirmed npm-only distribution (no compiled binaries)","dependencies":[{"issue_id":"gno-quw.10","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:29:47.153643+01:00","created_by":"daemon"},{"issue_id":"gno-quw.10","depends_on_id":"gno-quw.5","type":"blocks","created_at":"2025-12-28T20:29:54.671218+01:00","created_by":"daemon"},{"issue_id":"gno-quw.10","depends_on_id":"gno-quw.6","type":"blocks","created_at":"2025-12-28T20:29:54.840985+01:00","created_by":"daemon"}]}
{"id":"gno-quw.11","title":"Gate Windows distribution on CI stability","description":"Windows tests have continue-on-error in CI. For npm-only distribution, Windows must work via bunx/bun add.\n\n## Current State\nCI has continue-on-error for Windows tests, indicating known failures.\n\n## Gate Criteria (Updated for npm-only)\nBefore promoting Windows support:\n1. Remove continue-on-error from Windows CI jobs\n2. Core tests pass on Windows (doctor, search, index)\n3. Smoke test: gno doctor --json passes\n\n## Why This Matters\nnpm package is cross-platform - Windows users will run via bunx gno.\n\n## Files\n- .github/workflows/ci.yml (remove continue-on-error when stable)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T20:30:08.504847+01:00","updated_at":"2025-12-30T12:33:54.293547+01:00","closed_at":"2025-12-30T12:33:54.293547+01:00","close_reason":"Windows test cleanup now swallows all errors","dependencies":[{"issue_id":"gno-quw.11","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:30:08.514937+01:00","created_by":"daemon"}]}
{"id":"gno-quw.2","title":"Fix version management: sync package.json and constants.ts","description":"Make package.json version the single source of truth.\n\n## Decision\npackage.json `version` is canonical. All other version references derive from it.\n\n## Implementation\n1. Add `version: \"0.1.0\"` to package.json\n2. Update build script: `bun build --define VERSION='\"x.y.z\"'` (compiled releases)\n3. In constants.ts: read from package.json in dev, use injected VERSION in compiled binary\n4. Add `bun run version:bump` script using `npm version patch|minor|major`\n5. Document: git tag vX.Y.Z MUST match package.json version\n\n## Tagging Policy\n- Tags: `vX.Y.Z` format (e.g., v0.2.0)\n- Tag triggers release workflow\n- Tag version must match package.json version (validated in CI)\n\n## Dev vs Compiled\n- Dev mode: import { version } from '../package.json'\n- Compiled binary: VERSION injected via --define\n\n## Files\n- package.json (add version field)\n- src/app/constants.ts:22 (derive from package.json or injected)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T20:22:14.211691+01:00","updated_at":"2025-12-30T12:26:31.382802+01:00","closed_at":"2025-12-30T12:26:31.382802+01:00","close_reason":"Completed: package.json and constants.ts in sync","dependencies":[{"issue_id":"gno-quw.2","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:22:14.2175+01:00","created_by":"daemon"}]}
{"id":"gno-quw.3","title":"GitHub Actions release workflow","description":"Create workflow that builds and publishes binaries on tag push.\n\n## Trigger\nPush tag matching v* (e.g., v0.1.0)\n\n## Version Validation (first step)\n- Extract version from tag (strip 'v' prefix)\n- Compare to package.json version\n- FAIL if mismatch\n\n## Matrix\n- darwin-arm64 (Apple Silicon)\n- darwin-x64 (Intel Mac)\n- linux-x64\n- linux-arm64\n- windows-x64\n\n## Steps per platform\n1. Checkout + setup-bun\n2. bun install\n3. bun build --compile --minify --target=$TARGET --define VERSION='\"$VERSION\"'\n4. Set executable permissions (Unix)\n5. Generate SHA256 checksum (portable: use openssl dgst -sha256 or shasum -a 256)\n6. Upload to GitHub Release\n\n## Asset Naming\n- gno-darwin-arm64.tar.gz (compressed)\n- gno-darwin-x64.tar.gz\n- gno-linux-x64.tar.gz\n- gno-linux-arm64.tar.gz\n- gno-windows-x64.zip\n- checksums.txt (consolidated SHA256 for all assets)\n\n## Compression\n- Unix: tar.gz (preserves permissions)\n- Windows: zip\n\n## Release Validation\n- Run doctor --json from compiled binary in CI\n- Schema-validate output before publishing\n\n## Files\n- .github/workflows/release.yml (new)\n- .github/workflows/ci.yml (reference)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T20:22:15.421056+01:00","updated_at":"2025-12-30T12:04:24.555387+01:00","closed_at":"2025-12-30T12:04:24.555387+01:00","close_reason":"Not needed - spike confirmed npm-only distribution (no compiled binaries)","dependencies":[{"issue_id":"gno-quw.3","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:22:15.428922+01:00","created_by":"daemon"},{"issue_id":"gno-quw.3","depends_on_id":"gno-quw.1","type":"blocks","created_at":"2025-12-28T20:23:10.396188+01:00","created_by":"daemon"},{"issue_id":"gno-quw.3","depends_on_id":"gno-quw.2","type":"blocks","created_at":"2025-12-28T20:23:10.564447+01:00","created_by":"daemon"}]}
{"id":"gno-quw.4","title":"npm registry publishing (bun-only)","description":"Publish to npm registry for `bunx gno` and `bun add -g gno`.\n\n**NOTE**: npm/yarn/pnpm install won't work - requires Bun runtime (bun:sqlite, .ts bin).\n\n## package.json changes\n- Add version: \"0.1.0\" (sync with constants.ts)\n- Add files: ['src', 'README.md', 'LICENSE']\n- Add engines: { bun: '\u003e=1.0.0' }\n- Add publishConfig: { access: 'public' }\n- Fix duplicate author/Author fields\n\n## Bin Entry\nEnsure src/index.ts has:\n- `#\\!/usr/bin/env bun` shebang\n- Executable permission (chmod +x)\n\n## Verification\n- npm pack --dry-run (check included files)\n- npm publish --dry-run\n- Test: bunx gno --version\n- Test: bun add -g ./gno-0.1.0.tgz \u0026\u0026 gno --version\n\n## README Update\nDocument installation:\n```bash\n# Requires Bun runtime\ncurl -fsSL https://bun.sh/install | bash\n\n# Then run\nbunx gno\n# Or install globally\nbun add -g gno\n```\n\n## Files\n- package.json\n- src/index.ts (verify shebang)\n- README.md (installation docs)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T20:22:38.996192+01:00","updated_at":"2025-12-30T12:26:31.389414+01:00","closed_at":"2025-12-30T12:26:31.389414+01:00","close_reason":"Completed: package.json and constants.ts in sync","dependencies":[{"issue_id":"gno-quw.4","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:22:39.000009+01:00","created_by":"daemon"}]}
{"id":"gno-quw.5","title":"Homebrew tap repository + formula","description":"Create homebrew-gno repo with formula for macOS + Linux.\n\n## Setup\n1. Create repo: steveyegge/homebrew-gno (or org name)\n2. Create Formula/gno.rb\n\n## Formula structure\n- on_macos/on_linux blocks with arch detection\n- Download from GitHub Releases\n- SHA256 checksums (auto-updated)\n- Install binary to bin/\n- Test block: gno --version\n\n## Dependencies\n- depends_on 'sqlite' (for vector search on macOS)\n\n## Usage\nbrew tap steveyegge/gno\nbrew install gno\n\n## Automation\nConsider brew bump-formula-pr or GitHub Action to auto-update on release.\n\n## Files\n- New repo: homebrew-gno/Formula/gno.rb","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T20:22:42.640996+01:00","updated_at":"2025-12-30T12:04:24.609686+01:00","closed_at":"2025-12-30T12:04:24.609686+01:00","close_reason":"Not needed - spike confirmed npm-only distribution (no compiled binaries)","dependencies":[{"issue_id":"gno-quw.5","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:22:42.648581+01:00","created_by":"daemon"},{"issue_id":"gno-quw.5","depends_on_id":"gno-quw.3","type":"blocks","created_at":"2025-12-28T20:23:10.729958+01:00","created_by":"daemon"}]}
{"id":"gno-quw.6","title":"Scoop bucket + manifest","description":"Create scoop-gno repo with manifest for Windows.\n\n## Setup\n1. Create repo: steveyegge/scoop-gno\n2. Create bucket/gno.json manifest\n\n## Manifest\n- 64bit architecture block\n- Download from GitHub Releases\n- SHA256 hash\n- checkver: github (auto-detect new versions)\n- autoupdate block\n\n## Usage\nscoop bucket add gno https://github.com/steveyegge/scoop-gno\nscoop install gno\n\n## Files\n- New repo: scoop-gno/bucket/gno.json","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T20:22:43.888568+01:00","updated_at":"2025-12-30T12:04:24.664051+01:00","closed_at":"2025-12-30T12:04:24.664051+01:00","close_reason":"Not needed - spike confirmed npm-only distribution (no compiled binaries)","dependencies":[{"issue_id":"gno-quw.6","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:22:43.893637+01:00","created_by":"daemon"},{"issue_id":"gno-quw.6","depends_on_id":"gno-quw.3","type":"blocks","created_at":"2025-12-28T20:23:10.897156+01:00","created_by":"daemon"},{"issue_id":"gno-quw.6","depends_on_id":"gno-quw.11","type":"blocks","created_at":"2025-12-28T20:30:16.689851+01:00","created_by":"daemon"}]}
{"id":"gno-quw.7","title":"macOS code signing + notarization","description":"Sign and notarize macOS binaries to avoid Gatekeeper warnings.\n\n## Requirements\n- Apple Developer account ($99/yr)\n- Developer ID certificate\n- App-specific password for notarytool\n\n## Steps\n1. codesign --force --sign 'Developer ID' ./gno-darwin-*\n2. Create zip: ditto -c -k --keepParent gno gno.zip\n3. notarytool submit gno.zip --apple-id ... --team-id ...\n4. Staple (if using DMG/PKG, not bare binary)\n\n## CI Integration\n- Store credentials as GitHub secrets\n- Add signing step to release workflow\n\n## Alternative\nSkip if distributing via Homebrew (unsigned binaries work with brew).\n\n## Priority\nP4 (backlog) - only needed for direct binary downloads.\n\n## References\nhttps://developer.apple.com/documentation/security/notarizing_macos_software_before_distribution","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-28T20:22:45.606896+01:00","updated_at":"2025-12-30T12:04:24.716415+01:00","closed_at":"2025-12-30T12:04:24.716415+01:00","close_reason":"Not needed - spike confirmed npm-only distribution (no compiled binaries)","dependencies":[{"issue_id":"gno-quw.7","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:22:45.611722+01:00","created_by":"daemon"},{"issue_id":"gno-quw.7","depends_on_id":"gno-quw.3","type":"blocks","created_at":"2025-12-28T20:23:11.064104+01:00","created_by":"daemon"}]}
{"id":"gno-quw.8","title":"winget manifest submission","description":"Submit to Microsoft winget-pkgs for broader Windows reach.\n\n## Manifest structure\nmanifests/s/steveyegge/gno/x.y.z/\n├── steveyegge.gno.yaml\n├── steveyegge.gno.locale.en-US.yaml\n└── steveyegge.gno.installer.yaml\n\n## Process\n1. Fork microsoft/winget-pkgs\n2. Create manifest files\n3. Run winget validate\n4. Submit PR\n\n## Alternative\nUse wingetcreate tool for assisted manifest generation.\n\n## Priority\nP4 - Scoop is easier and targets same audience. Do this after Scoop is working.\n\n## References\nhttps://learn.microsoft.com/en-us/windows/package-manager/package/manifest","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-28T20:22:59.976825+01:00","updated_at":"2025-12-30T12:04:24.771676+01:00","closed_at":"2025-12-30T12:04:24.771676+01:00","close_reason":"Not needed - spike confirmed npm-only distribution (no compiled binaries)","dependencies":[{"issue_id":"gno-quw.8","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:22:59.982513+01:00","created_by":"daemon"},{"issue_id":"gno-quw.8","depends_on_id":"gno-quw.6","type":"blocks","created_at":"2025-12-28T20:23:11.232455+01:00","created_by":"daemon"},{"issue_id":"gno-quw.8","depends_on_id":"gno-quw.11","type":"blocks","created_at":"2025-12-28T20:30:16.860378+01:00","created_by":"daemon"}]}
{"id":"gno-quw.9","title":"Install script (curl | sh)","description":"Provide one-liner install for users without package managers.\n\n## Script behavior\n1. Detect OS + arch\n2. Download correct binary from GitHub Releases (latest tag by default)\n3. Download checksums.txt from same release\n4. Verify SHA256 against checksums.txt\n5. Install to ~/.local/bin (default, no PATH modification)\n6. Print instructions for adding to PATH if needed\n\n## Security Requirements\n- HTTPS only, no redirect following to different domains\n- Verify checksum BEFORE any execution\n- No silent PATH modification (print instructions instead)\n- Support --version flag to install specific version (default: latest)\n\n## Usage\ncurl -fsSL https://raw.githubusercontent.com/steveyegge/gno/main/install.sh | sh\ncurl -fsSL ... | sh -s -- --version v0.2.0\n\n## Error Cases\n- Unknown OS/arch: print supported platforms and exit\n- Checksum mismatch: error with clear message\n- Download failure: error with retry suggestion\n\n## Files\n- install.sh (new, at repo root)\n- install.ps1 (optional, for Windows PowerShell)\n\n## Priority\nP4 - Nice to have after package managers work.","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-28T20:23:01.412958+01:00","updated_at":"2025-12-30T12:04:24.814764+01:00","closed_at":"2025-12-30T12:04:24.814764+01:00","close_reason":"Not needed - spike confirmed npm-only distribution (no compiled binaries)","dependencies":[{"issue_id":"gno-quw.9","depends_on_id":"gno-quw","type":"parent-child","created_at":"2025-12-28T20:23:01.416956+01:00","created_by":"daemon"},{"issue_id":"gno-quw.9","depends_on_id":"gno-quw.3","type":"blocks","created_at":"2025-12-28T20:23:11.399084+01:00","created_by":"daemon"}]}
{"id":"gno-u7y","title":"EPIC 11: Evals and regression gates (Evalite v1)","description":"Implement eval harness using Evalite v1 for ranking quality gates, expansion stability, and multilingual validation.\n\n**Key Deliverables:**\n- Custom IR scorers (recallAtK, ndcgAtK)\n- Multilingual test corpus (DE/EN/FR/IT)\n- CI integration with threshold gating\n- Static UI export for artifacts\n\n**Evalite v1 Features Used:**\n- `evalite()` function in `.eval.ts` files\n- `createScorer()` for custom IR metrics\n- `defineConfig()` with SQLite storage\n- `trialCount` for variance measurement\n- `columns` for debugging output\n- CLI: `evalite watch`, `evalite export`\n\n**Docs:** spec/evals.md, PRD \\u00a718.2\n\n**Acceptance (EPIC):**\n- T11.1: 20+ queries, 8+ docs across 4 languages\n- T11.2: All eval files pass with custom scorers\n- T11.3: CI workflow with threshold=70%","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-23T14:51:05.361696+01:00","updated_at":"2025-12-25T11:18:42.73003+01:00","dependencies":[{"issue_id":"gno-u7y","depends_on_id":"gno-h7i","type":"blocks","created_at":"2025-12-23T14:53:29.42107+01:00","created_by":"daemon"}],"comments":[{"id":8,"issue_id":"gno-u7y","author":"gordon","text":"Spec: docs/prd.md §18.2 (Evals). Future: spec/evals.md. Evalite v1 for ranking quality gates.","created_at":"2025-12-23T15:15:18Z"},{"id":15,"issue_id":"gno-u7y","author":"gordon","text":"Spec now exists: spec/evals.md - complete Evalite v1 implementation guide with custom scorers, eval files, CI workflow.","created_at":"2025-12-25T10:20:26Z"}]}
{"id":"gno-u7y.1","title":"T11.1: Curate eval corpus, queries, judgments","description":"Create test corpus with DE/EN/FR/IT docs. Define queries and relevance judgments. Include cross-language queries.\n\n**File Structure:**\n```\ntest/eval/fixtures/\n  corpus/\n    de/   # German test docs (min 2)\n    en/   # English test docs (min 2)\n    fr/   # French test docs (min 2)\n    it/   # Italian test docs (min 2)\n  queries.json  # Query-judgment pairs\n```\n\n**queries.json Format:**\n```json\n{\n  \"id\": \"q1\",\n  \"query\": \"termination clause\",\n  \"collection\": \"contracts\",\n  \"language\": \"en\",\n  \"relevantDocs\": [\"#a1b2c3\"],\n  \"judgments\": [\n    { \"docid\": \"#a1b2c3\", \"relevance\": 3 }\n  ]\n}\n```\n\n**Acceptance:**\n- [ ] 20+ queries with relevance judgments\n- [ ] 2+ docs each in DE, EN, FR, IT\n- [ ] 3+ cross-language query-doc pairs\n- [ ] Relevance grades 0-3 (0=not relevant, 3=perfect match)\n\nReference: spec/evals.md, PRD \\u00a718.2","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:57.703685+01:00","updated_at":"2025-12-25T11:17:58.293746+01:00","dependencies":[{"issue_id":"gno-u7y.1","depends_on_id":"gno-u7y","type":"parent-child","created_at":"2025-12-23T14:51:57.704761+01:00","created_by":"daemon"}],"comments":[{"id":16,"issue_id":"gno-u7y.1","author":"gordon","text":"Impl spec: spec/evals.md §Test Data Format","created_at":"2025-12-25T10:20:28Z"}]}
{"id":"gno-u7y.2","title":"T11.2: Implement eval harness and metrics","description":"Implement eval harness using Evalite v1 with custom IR scorers.\n\n**Files to Create:**\n```\ntest/eval/\n  scorers/\n    ir-metrics.ts       # recallAtK, ndcgAtK\n    expansion-validity.ts\n  vsearch.eval.ts       # Vector search ranking\n  query.eval.ts         # Hybrid query pipeline\n  expansion.eval.ts     # Structured expansion stability\n  multilingual.eval.ts  # Cross-language ranking\nevalite.config.ts       # Global config\n```\n\n**Custom Scorers (ir-metrics.ts):**\n- `recallAtK(k)`: Fraction of relevant docs in top k\n- `ndcgAtK(k)`: Normalized DCG at rank k\n- `latencyBudget(maxMs)`: Soft latency gate\n\n**Config (evalite.config.ts):**\n```ts\nimport { defineConfig } from 'evalite/config';\nimport { createSqliteStorage } from 'evalite/sqlite-storage';\n\nexport default defineConfig({\n  storage: () =\u003e createSqliteStorage('./evalite.db'),\n  testTimeout: 120000,\n  maxConcurrency: 10,\n  scoreThreshold: 70,\n  cache: true,\n});\n```\n\n**Acceptance:**\n- [ ] recallAtK(5), recallAtK(10), ndcgAtK(10) scorers work\n- [ ] vsearch.eval.ts passes with fixture corpus\n- [ ] query.eval.ts passes with latency tracking\n- [ ] expansion.eval.ts validates schema + runs trialCount=3\n- [ ] multilingual.eval.ts tests cross-language retrieval\n- [ ] `bun run evalite watch` shows UI at localhost:3006\n\nReference: spec/evals.md, PRD \\u00a718.2","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-23T14:51:59.211375+01:00","updated_at":"2025-12-25T11:18:13.624813+01:00","dependencies":[{"issue_id":"gno-u7y.2","depends_on_id":"gno-u7y","type":"parent-child","created_at":"2025-12-23T14:51:59.212651+01:00","created_by":"daemon"}],"comments":[{"id":17,"issue_id":"gno-u7y.2","author":"gordon","text":"Impl spec: spec/evals.md §Custom Scorers, §Eval Files","created_at":"2025-12-25T10:20:30Z"}]}
{"id":"gno-u7y.3","title":"T11.3: CI gating (soft fail then hard fail)","description":"Integrate evals in CI. Start with soft fail, move to hard fail after baseline established.\n\n**GitHub Actions Workflow (.github/workflows/evals.yml):**\n```yaml\nname: Evals\non:\n  push:\n    branches: [main]\n  pull_request:\n    paths:\n      - 'src/pipeline/**'\n      - 'src/llm/**'\n      - 'test/eval/**'\n\njobs:\n  evals:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: oven-sh/setup-bun@v2\n      - run: bun install\n      - run: bun run eval:ci\n      - run: bun run evalite export --output=./eval-ui\n        if: always()\n      - uses: actions/upload-artifact@v4\n        with:\n          name: eval-results\n          path: |\n            eval-results.json\n            eval-ui/\n```\n\n**package.json Scripts:**\n```json\n{\n  \"eval\": \"evalite\",\n  \"eval:watch\": \"evalite watch\",\n  \"eval:ci\": \"evalite --threshold=70 --outputPath=./eval-results.json\"\n}\n```\n\n**Threshold Progression:**\n| Phase | Threshold | Rationale |\n|-------|-----------|-----------|\n| MVP   | 70%       | Baseline  |\n| Beta  | 80%       | Stabilize |\n| GA    | 90%       | Production|\n\n**Acceptance:**\n- [ ] Workflow triggers on relevant path changes\n- [ ] `--threshold=70` fails CI if score drops\n- [ ] Static UI exported as artifact\n- [ ] JSON results exported for analysis\n- [ ] Soft fail (|| true) initially, hard fail after baseline\n\nReference: spec/evals.md, PRD \\u00a718.2","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T14:52:00.428947+01:00","updated_at":"2025-12-25T11:18:29.484627+01:00","dependencies":[{"issue_id":"gno-u7y.3","depends_on_id":"gno-u7y","type":"parent-child","created_at":"2025-12-23T14:52:00.43021+01:00","created_by":"daemon"}],"comments":[{"id":18,"issue_id":"gno-u7y.3","author":"gordon","text":"Impl spec: spec/evals.md §CI Integration","created_at":"2025-12-25T10:20:32Z"}]}
{"id":"gno-ub9","title":"EPIC 13: Raycast extension (macOS GUI layer)","status":"open","priority":4,"issue_type":"epic","created_at":"2025-12-24T09:11:03.661815+01:00","updated_at":"2025-12-27T11:15:54.903339+01:00","dependencies":[{"issue_id":"gno-ub9","depends_on_id":"gno-mu3","type":"blocks","created_at":"2025-12-24T09:12:05.657529+01:00","created_by":"daemon"},{"issue_id":"gno-ub9","depends_on_id":"gno-i7b","type":"blocks","created_at":"2025-12-24T09:12:06.101249+01:00","created_by":"daemon"},{"issue_id":"gno-ub9","depends_on_id":"gno-v8w","type":"blocks","created_at":"2025-12-24T09:12:06.557759+01:00","created_by":"daemon"},{"issue_id":"gno-ub9","depends_on_id":"gno-ia1","type":"blocks","created_at":"2025-12-24T09:12:07.040682+01:00","created_by":"daemon"},{"issue_id":"gno-ub9","depends_on_id":"gno-h7i","type":"blocks","created_at":"2025-12-24T09:12:07.514862+01:00","created_by":"daemon"},{"issue_id":"gno-ub9","depends_on_id":"gno-n5m","type":"blocks","created_at":"2025-12-24T09:12:07.974467+01:00","created_by":"daemon"},{"issue_id":"gno-ub9","depends_on_id":"gno-3qp","type":"blocks","created_at":"2025-12-24T09:12:08.417556+01:00","created_by":"daemon"},{"issue_id":"gno-ub9","depends_on_id":"gno-zp2","type":"blocks","created_at":"2025-12-24T09:12:08.859343+01:00","created_by":"daemon"}],"comments":[{"id":10,"issue_id":"gno-ub9","author":"gordon","text":"## Summary\n\nA native macOS Raycast extension providing GUI access to GNO's core capabilities: search, semantic query, ask, and quick capture. Raycast is ideal because it's keyboard-driven, React/TypeScript-based (same stack as GNO), and deeply integrated into macOS workflows.\n\n## Why Raycast\n\n1. **Same tech stack** - React + TypeScript + Node, minimal context switch\n2. **Keyboard-first** - matches CLI power-user mindset\n3. **Native performance** - no Electron overhead, instant access via hotkey\n4. **Rich UI primitives** - List, Detail, Form, Grid, Actions, Menu Bar\n5. **AI integration** - built-in hooks for AI features (useAI)\n6. **Large ecosystem** - 5000+ extensions, proven patterns to follow\n\n## Core Commands\n\n### 1. Search Notes (gno search)\n- Component: List with search bar\n- Features: Instant FTS search, tag filtering, collection scoping\n- Actions: Open in editor, Quick Look preview, copy content/path\n\n### 2. Semantic Search (gno vsearch)\n- Component: List with search bar\n- Features: Vector similarity, hybrid mode toggle, relevance scores\n\n### 3. Ask Question (gno ask)\n- Component: Form then Detail\n- Flow: Question input then streaming answer with citations\n- Features: Citation links, copy answer, regenerate, view context\n\n### 4. Quick Capture\n- Component: Form with title, content, collection, tags\n\n### 5. Browse Collections\n- Component: List chain (Collections, Documents, Detail)\n- Features: Collection stats, document metadata, trigger re-index\n\n### 6. Status Dashboard (Menu Bar)\n- Features: Index health, last sync, quick actions, model status\n\n## Technical Architecture\n\nIntegration via CLI wrapper (spawn gno commands, parse JSON).\nLater: direct library import or MCP client.\n\n## Implementation Tasks\n\n1. T13.1: Raycast extension scaffold\n2. T13.2: GNO CLI wrapper with JSON parsing\n3. T13.3: Search command (FTS)\n4. T13.4: Semantic search command\n5. T13.5: Ask command with streaming\n6. T13.6: Quick capture form\n7. T13.7: Browse collections\n8. T13.8: Menu bar status\n9. T13.9: Raycast Store submission\n\n## Resources\n\n- Raycast Developer Docs: https://developers.raycast.com\n- Extensions Repo: https://github.com/raycast/extensions\n- Obsidian Extension (reference): https://www.raycast.com/marcjulian/obsidian\n","created_at":"2025-12-24T08:11:51Z"}]}
{"id":"gno-v8w","title":"EPIC 6: LLM subsystem (node-llama-cpp) and model UX","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-23T14:51:56.617805+01:00","updated_at":"2025-12-24T20:40:10.519946+01:00","closed_at":"2025-12-24T20:40:10.519946+01:00","close_reason":"Implemented in PR #4","dependencies":[{"issue_id":"gno-v8w","depends_on_id":"gno-8db","type":"blocks","created_at":"2025-12-23T14:53:23.272526+01:00","created_by":"daemon"}],"comments":[{"id":7,"issue_id":"gno-v8w","author":"gordon","text":"Spec: docs/prd.md §11 (Local inference). Future: spec/models.md. gno models commands in spec/cli.md.","created_at":"2025-12-23T15:15:16Z"}]}
{"id":"gno-v8w.1","title":"T6.1: LLM adapter lifecycle management","description":"node-llama-cpp adapter for embeddings, generation, reranking. Keep models loaded for repeated calls. Dispose contexts/sequences promptly. Safe memory management for long MCP sessions. Reference: docs/prd.md §11.1.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T14:52:03.633511+01:00","updated_at":"2025-12-24T20:40:10.521868+01:00","closed_at":"2025-12-24T20:40:10.521868+01:00","close_reason":"Implemented in PR #4","dependencies":[{"issue_id":"gno-v8w.1","depends_on_id":"gno-v8w","type":"parent-child","created_at":"2025-12-23T14:52:03.634686+01:00","created_by":"daemon"}]}
{"id":"gno-v8w.2","title":"T6.2: Model presets and config overrides","description":"Config-driven presets. Preset A (multilingual, default): bge-m3 embed, bge-reranker-v2-m3, Qwen Instruct gen. Preset B (Qwen): Qwen3 family. Reference: docs/prd.md §11.4.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:52:12.253799+01:00","updated_at":"2025-12-24T20:40:10.52346+01:00","closed_at":"2025-12-24T20:40:10.52346+01:00","close_reason":"Implemented in PR #4","dependencies":[{"issue_id":"gno-v8w.2","depends_on_id":"gno-v8w","type":"parent-child","created_at":"2025-12-23T14:52:12.254488+01:00","created_by":"daemon"}]}
{"id":"gno-v8w.3","title":"T6.3: Model cache resolver (hf: URIs) and gno models commands","description":"Cache at \u003ccacheDir\u003e/models. Commands: gno models list|pull|clear|path. Auto-resolve GGUF from HuggingFace URIs. Reference: docs/prd.md §11.3.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:52:21.802409+01:00","updated_at":"2025-12-24T20:40:10.52482+01:00","closed_at":"2025-12-24T20:40:10.52482+01:00","close_reason":"Implemented in PR #4","dependencies":[{"issue_id":"gno-v8w.3","depends_on_id":"gno-v8w","type":"parent-child","created_at":"2025-12-23T14:52:21.802754+01:00","created_by":"daemon"}]}
{"id":"gno-v8w.4","title":"T6.4: gno doctor checks (models, vec, conversion readiness)","description":"Validate model URIs resolvable, models cached or downloadable, embedding/rerank dims match, sqlite-vec available, converters ready. Actionable diagnostics. Reference: docs/prd.md §11.4 and §19.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T14:52:28.38997+01:00","updated_at":"2025-12-24T20:40:10.526042+01:00","closed_at":"2025-12-24T20:40:10.526042+01:00","close_reason":"Implemented in PR #4","dependencies":[{"issue_id":"gno-v8w.4","depends_on_id":"gno-v8w","type":"parent-child","created_at":"2025-12-23T14:52:28.390834+01:00","created_by":"daemon"}]}
{"id":"gno-x6h","title":"BM25 source metadata consistency","description":"## Problem\n\nBM25 search hardcodes `mime: 'text/markdown', ext: '.md'` in `search.ts:67-71`. Missing `modifiedAt`, `sizeBytes`, `sourceHash` from output. Hybrid search (`hybrid.ts:457-466`) returns full metadata correctly.\n\n## Approach\n\n1. Extend FTS query to SELECT source columns from documents table:\n   - `d.source_mime`, `d.source_ext`, `d.source_mtime`, `d.source_size`, `d.source_hash`\n2. Extend FtsResult type with **optional** fields (keeps backward compat, avoids test fixture churn):\n   - `sourceMime?: string`, `sourceExt?: string`, `sourceMtime?: string`, `sourceSize?: number`, `sourceHash?: string`\n3. Use actual values in buildSearchResult() with fallback to existing hardcodes\n\n## Key Context\n\n- Schema requires: `search-result.schema.json:80-93` defines optional source fields\n- Correct example: `hybrid.ts:457-466` shows all fields populated\n- FtsResult type: `types.ts:205-216` needs extending (optional fields)\n- Note: source_mtime is stored as ISO 8601 string, matches schema `format: date-time`\n\n## Dependency\n\nDepends on c2t landing first (or together) - the window function approach in c2t ensures source metadata corresponds to the returned doc's URI.\n\n## Files to Modify\n\n1. `src/store/sqlite/adapter.ts` - Add d.source_* to SELECT clause\n2. `src/store/types.ts` - Extend FtsResult with optional source fields\n3. `src/pipeline/search.ts:67-71` - Use fts.source* values with fallbacks\n\n## Acceptance Checks\n\n- [ ] BM25 results include modifiedAt, sizeBytes, sourceHash (when present)\n- [ ] mime/ext match actual source file, not hardcoded markdown\n- [ ] Schema validation passes for BM25 output\n- [ ] Consistency with hybrid search output format\n- [ ] Existing tests pass (optional fields don't break mocks)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T23:09:39.411634+01:00","updated_at":"2025-12-28T12:31:57.385618+01:00","closed_at":"2025-12-28T12:31:57.385618+01:00","close_reason":"Closed","dependencies":[{"issue_id":"gno-x6h","depends_on_id":"gno-h7i.1","type":"blocks","created_at":"2025-12-25T23:11:55.93592+01:00","created_by":"daemon"},{"issue_id":"gno-x6h","depends_on_id":"gno-h7i","type":"parent-child","created_at":"2025-12-27T11:23:13.828553+01:00","created_by":"daemon"},{"issue_id":"gno-x6h","depends_on_id":"gno-c2t","type":"blocks","created_at":"2025-12-28T11:51:56.674415+01:00","created_by":"daemon"}]}
{"id":"gno-zp2","title":"EPIC 12: Packaging, release, docs","description":"# EPIC 12: World-Class Documentation\n\nCreate comprehensive, world-class markdown documentation for GNO that rivals or exceeds competitors like QMD.\n\n## Vision\nDocumentation that enables:\n- 5-minute quickstart for new users\n- Deep architectural understanding for contributors\n- Seamless agentic integration (Claude Code, MCP)\n- Cross-project knowledge search use cases\n\n## Documentation Suite\nAll docs in `docs/` as markdown, designed for future Jekyll/static site generation.\n\n### Core Documents\n1. **README.md** - Landing page, value prop, quick overview\n2. **QUICKSTART.md** - init → index → search in 3 commands\n3. **INSTALLATION.md** - All methods (bun, npm, Homebrew), requirements\n4. **ARCHITECTURE.md** - Hybrid search pipeline, ASCII diagrams, score fusion\n5. **CLI.md** - Complete command reference with examples\n6. **MCP.md** - Claude Code/Desktop integration, tool reference\n7. **USE-CASES.md** - Real scenarios (Obsidian vault, cross-project search, agentic flows)\n8. **CONFIGURATION.md** - Collections, contexts, models, presets\n9. **TROUBLESHOOTING.md** - Common issues, native deps, model downloads\n\n## Quality Bar\n- ASCII architecture diagrams (like QMD)\n- Copy-pasteable code examples\n- Score interpretation tables\n- Comparison to alternatives (local-first, privacy)\n- Agentic workflow examples (Claude Code searching Obsidian from any project)\n\n## Prerequisite\nPhase 0: Deep codebase review to understand specs, pipeline, types, and current behavior.\n\n## Future\nMarkdown docs will feed into Jekyll/HTML doc site later.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-23T14:51:06.512616+01:00","updated_at":"2025-12-29T02:18:38.598218+01:00","closed_at":"2025-12-29T02:18:38.598218+01:00","close_reason":"Split into gno-iu7 (docs) and gno-2yb (packaging)","dependencies":[{"issue_id":"gno-zp2","depends_on_id":"gno-3qp","type":"blocks","created_at":"2025-12-23T14:53:30.051144+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.1","title":"T12.1: npm packaging and install docs","description":"npm package with bin entry for gno. Bun-first. Document native dep handling. Reference: docs/prd.md §19.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:52:01.653311+01:00","updated_at":"2025-12-29T01:30:35.160395+01:00","closed_at":"2025-12-29T01:30:35.160395+01:00","close_reason":"Replaced with comprehensive docs plan","dependencies":[{"issue_id":"gno-zp2.1","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-23T14:52:01.654578+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.10","title":"D5: CLI.md - Complete command reference","description":"# D5: CLI.md - Complete Command Reference\n\n## Resources\n- `spec/cli.md` - THE authoritative source (copy structure)\n- `docs/NOTES.md` §8 (Interface Invariants)\n\n## Format (per command)\n```\n## gno \u003ccommand\u003e\n\nBrief description.\n\n### Usage\n\\`\\`\\`sh\ngno \u003ccommand\u003e [options] \u003cargs\u003e\n\\`\\`\\`\n\n### Options\n| Flag | Description | Default |\n|------|-------------|---------|\n\n### Examples\n\\`\\`\\`sh\n# Example 1\ngno command ...\n\n# Example 2\ngno command --option ...\n\\`\\`\\`\n\n### Output\nSample output or JSON schema reference.\n```\n\n## Commands to Document (from spec/cli.md)\n### Index Management\n- init, index, update, embed, cleanup, status, doctor\n\n### Search\n- search, vsearch, query, ask\n\n### Document Access\n- get, multi-get, ls\n\n### Collection Management\n- collection add/list/remove/rename\n\n### Context Management\n- context add/list/rm\n\n### Other\n- mcp (server mode)\n\n## Must Include\n- Exit codes (0=success, 1=validation, 2=runtime)\n- Output formats (--json, --files, --csv, --md, --xml)\n- Global flags (--index, --config, --no-color, --verbose)\n- Common patterns (search → query → ask progression)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-29T01:32:39.037763+01:00","updated_at":"2025-12-29T02:21:36.276877+01:00","dependencies":[{"issue_id":"gno-zp2.10","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-29T01:32:39.04304+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.10","depends_on_id":"gno-zp2.5","type":"blocks","created_at":"2025-12-29T01:33:05.766251+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.11","title":"D6: MCP.md - Claude Code/Desktop integration","description":"# D6: MCP.md - MCP Server Integration\n\n## When to Use What\n\n| Agent | Integration | Why |\n|-------|-------------|-----|\n| Claude Code | CLI (`--json`) | Can execute commands, CLI is simpler |\n| Codex / Cursor | CLI (`--json`) | Can execute commands |\n| Claude Desktop | MCP | Cannot execute CLI, needs MCP |\n| Custom agents | Either | Depends on capabilities |\n\n**Rule of thumb:** If the agent can run shell commands, use CLI. If not, use MCP.\n\n## Resources\n- `spec/mcp.md` - Tool schemas (authoritative)\n- `docs/prd.md` §16 (MCP specification)\n\n## Sections\n\n### 1. Who Needs MCP\nMCP is for agents that **cannot execute CLI commands**:\n- Claude Desktop (chat-only, no shell access)\n- Web-based assistants without terminal\n- Sandboxed environments\n\nAgents with shell access (Claude Code, Codex, Cursor) should use CLI directly - it's simpler and more flexible.\n\n### 2. Quick Setup\n\n**Claude Desktop** (~/.config/claude/claude_desktop_config.json):\n```json\n{\n  \"mcpServers\": {\n    \"gno\": { \"command\": \"gno\", \"args\": [\"mcp\"] }\n  }\n}\n```\n\nNow Claude Desktop can search your knowledge without CLI access.\n\n### 3. Available Tools\n| Tool | CLI Equivalent | Description |\n|------|---------------|-------------|\n| gno_search | `gno search --json` | BM25 keyword search |\n| gno_vsearch | `gno vsearch --json` | Vector semantic search |\n| gno_query | `gno query --json` | Hybrid + reranking |\n| gno_get | `gno get --json` | Retrieve document |\n| gno_multi_get | `gno multi-get --json` | Retrieve multiple docs |\n| gno_status | `gno status --json` | Index health |\n\n### 4. Resources\n- `gno://collection/path` - Returns markdown content\n- Line numbers included by default for agent friendliness\n\n### 5. Example: Claude Desktop Workflow\nYou (in Claude Desktop): \"What's in my notes about authentication?\"\n\nClaude calls MCP tool:\n```json\n{\n  \"tool\": \"gno_query\",\n  \"arguments\": { \"query\": \"authentication\", \"limit\": 10 }\n}\n```\n\nClaude receives structured results, reads your notes, answers based on YOUR knowledge.\n\n### 6. Comparison: MCP vs CLI\n\n**MCP pros:**\n- Works without shell access\n- Automatic tool discovery\n- Structured schemas\n\n**CLI pros:**\n- Simpler setup (no config file)\n- Pipe-able, scriptable\n- Works in any terminal context\n- More flexible output options\n\n### 7. Troubleshooting\n- Server not starting: Check JSON syntax in config\n- No results: Run `gno status` in terminal to verify index\n- Slow first response: Models download on first use (~1-2GB)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-29T01:32:40.238301+01:00","updated_at":"2025-12-29T02:32:02.837931+01:00","dependencies":[{"issue_id":"gno-zp2.11","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-29T01:32:40.244876+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.11","depends_on_id":"gno-zp2.5","type":"blocks","created_at":"2025-12-29T01:33:05.930671+01:00","created_by":"daemon"}],"comments":[{"id":25,"issue_id":"gno-zp2.11","author":"gordon","text":"**Official Claude Desktop config paths:**\n- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`\n- Windows: `%APPDATA%\\Claude\\claude_desktop_config.json`\n\n**Full config example:**\n```json\n{\n  \"mcpServers\": {\n    \"gno\": {\n      \"command\": \"gno\",\n      \"args\": [\"mcp\"],\n      \"env\": { \"GNO_DB\": \"/path/to/custom.db\" }\n    }\n  }\n}\n```\n\nFor Claude Code, add to `~/.claude.json` under mcpServers.","created_at":"2025-12-30T14:51:32Z"}]}
{"id":"gno-zp2.12","title":"D7: USE-CASES.md - Real-world scenarios","description":"# D7: USE-CASES.md - Real-World Scenarios\n\n## Purpose\nShow GNO as your AI-accessible second brain with real workflows, not toy examples.\n\n## Two Primary Modes\n\n### Mode A: AI Agent Backend (CLI-first)\nYour AI assistant calls GNO via CLI to access YOUR knowledge.\n```sh\n# Claude Code / Codex / Cursor calls:\ngno query \"authentication flow\" --json -n 10\ngno get \"docs/auth.md\" --full\n```\n\n### Mode B: Manual CLI\nFast, local, private search from terminal.\n\n---\n\n## Scenarios\n\n### 1. Personal Knowledge Base (Obsidian, Logseq, Notion exports)\n**Problem:** Years of notes, can't find anything.\n\n```sh\n# One-time setup\ngno init ~/Obsidian/vault --name brain --pattern \"**/*.md\"\ngno context add brain: \"Personal knowledge base, daily notes, ideas, learnings\"\ngno index\n\n# You working manually\ngno ask \"what were my goals for Q4?\"\ngno vsearch \"that productivity system I read about\"\n\n# Claude Code working for you\n# You: \"What did I write about system design last month?\"\n# Claude runs: gno query \"system design\" -c brain --json -n 10\n# Claude reads the results and answers based on YOUR notes\n```\n\n### 2. Meeting Transcripts \u0026 Decisions\n**Problem:** Important decisions buried in transcripts.\n\n```sh\ngno init ~/meetings --name meetings\ngno context add meetings: \"Meeting transcripts, action items, decisions\"\ngno index\n\n# Find decisions\ngno search \"action items\" --all --files\ngno ask \"what did we decide about the API redesign?\"\n\n# Agent: \"What were my action items from last week?\"\n# Runs: gno query \"action items\" --json | processes results\n```\n\n### 3. Cross-Project Code Knowledge\n**Problem:** Patterns scattered across repos, can't remember where.\n\n```sh\n# Index all your work (one-time)\ngno collection add ~/work/api --name api\ngno collection add ~/work/frontend --name frontend\ngno collection add ~/work/mobile --name mobile\ngno collection add ~/work/infra --name infra\ngno index\n\n# Now from ANY directory, ANY project:\ncd ~/some-random-project\ngno query \"authentication flow\"\ngno vsearch \"how we handle rate limiting\"\n\n# Claude Code in a new project:\n# You: \"How do our other services handle auth?\"\n# Claude runs: gno query \"authentication\" --json -n 15\n# Gets patterns from api, frontend, mobile - answers with real examples\n```\n\n### 4. Documentation \u0026 Specs Lookup\n**Problem:** Can't remember where that spec is.\n\n```sh\ngno collection add ~/work/docs --name docs\ngno collection add ~/work/specs --name specs\ngno context add specs: \"Technical specifications, RFCs, ADRs\"\ngno index\n\n# Find the right doc\ngno query \"user authentication API\" -c specs\ngno get \"#abc123\" --full  # Get by docid from search results\n\n# Agent writing new feature:\n# \"What's our API versioning policy?\"\n# Runs: gno search \"API versioning\" -c specs --json\n# Gets the exact RFC content\n```\n\n### 5. AI Coding Assistant with Full Context (The Killer Workflow)\n**Problem:** AI only knows what you paste into chat.\n\n```sh\n# One-time: index ALL your knowledge\ngno collection add ~/notes --name notes\ngno collection add ~/work --name code\ngno collection add ~/docs --name docs\ngno index\n\n# Now in Claude Code, Cursor, Codex:\n\n# \"Search my notes for that architecture pattern\"\n# Agent runs: gno query \"architecture pattern\" -c notes --json\n\n# \"Find how we implemented caching in the API\"\n# Agent runs: gno search \"caching implementation\" -c code --json\n\n# \"What do my meeting notes say about the deadline?\"\n# Agent runs: gno query \"deadline\" -c notes --json\n\n# \"Get me the full auth spec\"\n# Agent runs: gno get \"specs/auth.md\" --full --line-numbers\n```\n\n### 6. Research \u0026 Learning Recall\n**Problem:** You read things, take notes, then forget.\n\n```sh\ngno collection add ~/research --name research\ngno collection add ~/books --name books\ngno context add research: \"Papers, articles, highlights\"\ngno context add books: \"Book notes, summaries\"\ngno index\n\n# Months later\ngno vsearch \"that paper about attention mechanisms\"\ngno ask \"what did Thinking Fast and Slow say about heuristics?\"\n\n# Agent helping with writing:\n# \"Find sources for my blog post about AI safety\"\n# Runs: gno query \"AI safety\" --all --files --min-score 0.3\n```\n\n### 7. CLI Scripting \u0026 Automation\n**Power user patterns:**\n\n```sh\n# Export all matches for processing\ngno search \"TODO\" --all --files --min-score 0.2 \u003e todos.txt\n\n# Pipe to other tools\ngno query \"API endpoints\" --all --files | xargs grep -l \"POST\"\n\n# JSON for scripting\ngno search \"config\" --json | jq '.results[].uri'\n\n# Bulk document retrieval\ngno multi-get \"specs/*.md\" --json \u003e all-specs.json\n\n# Feed results to another LLM\ngno query \"error handling\" --all --files --min-score 0.4 | xargs cat | llm \"summarize\"\n\n# Daily standup prep\ngno search \"yesterday\" -c notes --json | jq '.results[0].snippet'\n```\n\n---\n\n## Format per Scenario\n1. **The Problem** - Why someone needs this (one line)\n2. **Setup** - One-time collection/context commands\n3. **Manual Use** - Terminal examples\n4. **AI Agent Use** - How Claude/Codex would call it\n5. **What Becomes Possible** - The new capability unlocked","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-29T01:32:41.970005+01:00","updated_at":"2025-12-29T02:30:13.047685+01:00","dependencies":[{"issue_id":"gno-zp2.12","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-29T01:32:41.977299+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.12","depends_on_id":"gno-zp2.5","type":"blocks","created_at":"2025-12-29T01:33:06.083542+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.13","title":"D8: CONFIGURATION.md - Collections, contexts, models","description":"# D8: CONFIGURATION.md - Collections, Contexts, Models\n\n## Resources\n- `src/config/types.ts` - Zod schemas (authoritative)\n- `docs/NOTES.md` §5 (Model Presets), §6 (Design Decisions)\n- `spec/cli.md` §collection, §context commands\n\n## Sections\n\n### 1. Config File Location\n- ~/.config/gno/config.yaml (default)\n- --config flag override\n- Environment variable override\n\n### 2. Collections\n```yaml\ncollections:\n  - name: notes        # lowercase, alphanumeric, hyphens\n    path: ~/notes      # absolute path\n    pattern: \"**/*\"    # glob pattern\n    include: [\".md\", \".txt\"]  # extension filter (empty = all)\n    exclude: [\".git\", \"node_modules\"]  # skip patterns\n    updateCmd: \"git pull\"  # optional pre-index command\n    languageHint: \"en\"  # BCP-47 hint for mixed-language content\n```\n\n### 3. Contexts\n```yaml\ncontexts:\n  - scopeType: global      # applies to all\n    scopeKey: \"/\"\n    text: \"Personal knowledge base\"\n  \n  - scopeType: collection  # applies to one collection\n    scopeKey: \"notes:\"\n    text: \"Daily notes and ideas\"\n  \n  - scopeType: prefix      # applies to path prefix\n    scopeKey: \"gno://notes/work\"\n    text: \"Work-related notes\"\n```\n\n### 4. Model Presets\nTable from NOTES.md §5:\n| Preset | Disk | Use Case |\n|--------|------|----------|\n| slim | ~1GB | Fast, basic |\n| balanced | ~2GB | Default, good quality |\n| quality | ~2.5GB | Best answers |\n\n```yaml\nmodels:\n  activePreset: balanced\n```\n\n### 5. FTS Tokenizer\n- unicode61 (default) - standard tokenization\n- porter - English stemming\n- trigram - substring matching\n\n**WARNING**: Immutable after first index. Change requires --rebuild-fts.\n\n### 6. Advanced Options\n- loadTimeout, inferenceTimeout, warmModelTtl","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-29T01:32:43.062938+01:00","updated_at":"2025-12-29T02:22:22.477062+01:00","dependencies":[{"issue_id":"gno-zp2.13","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-29T01:32:43.072238+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.13","depends_on_id":"gno-zp2.5","type":"blocks","created_at":"2025-12-29T01:33:06.240141+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.14","title":"D9: TROUBLESHOOTING.md - Common issues","description":"# D9: TROUBLESHOOTING.md - Common Issues\n\n## Resources\n- `docs/NOTES.md` §7 (Graceful Degradation)\n- `src/cli/commands/doctor.ts` - diagnostics\n- `src/store/vector/sqlite-vec.ts` - sqlite-vec issues\n\n## Format per Issue\n```\n## Issue: \u003csymptom\u003e\n\n**Cause**: Why this happens\n**Solution**: How to fix\n**Verify**: Command to confirm fix\n```\n\n## Issues to Document\n\n### Installation Issues\n1. **\"sqlite-vec extension not found\"**\n   - macOS: `brew install sqlite` then reinstall\n   - Linux: check prebuilds available\n\n2. **\"node-llama-cpp failed to load\"**\n   - Check platform support\n   - Try different model preset\n\n3. **\"Bun not found\"**\n   - Install from https://bun.sh\n\n### Indexing Issues\n4. **\"Files not being indexed\"**\n   - Check glob pattern, exclude list\n   - Run `gno ls \u003ccollection\u003e` to verify\n\n5. **\"Conversion failed for PDF/DOCX\"**\n   - Check file isn't corrupted\n   - markitdown-ts limitations\n\n6. **\"Index very slow\"**\n   - Large files being chunked\n   - Set maxBytes limit\n\n### Search Issues\n7. **\"Vector search unavailable\"**\n   - sqlite-vec not loaded (graceful degradation)\n   - Run `gno doctor` to check\n\n8. **\"No results found\"**\n   - Check collection indexed: `gno status`\n   - Lower --min-score threshold\n\n9. **\"Embeddings not generated\"**\n   - Run `gno embed` first\n   - Model download may be in progress\n\n### Model Issues\n10. **\"Model download stuck\"**\n    - Check network, HuggingFace status\n    - Clear cache: ~/.cache/gno/models\n\n11. **\"Out of memory\"**\n    - Use smaller preset (slim)\n    - Reduce batch size\n\n### MCP Issues\n12. **\"MCP server not responding\"**\n    - Check config JSON syntax\n    - Restart Claude Desktop/Code\n\n## Diagnostics\n```sh\n# Full system check\ngno doctor --json\n\n# Check index health\ngno status\n\n# Verbose mode for debugging\ngno --verbose search \"test\"\n```","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-29T01:32:44.199951+01:00","updated_at":"2025-12-29T02:22:38.977829+01:00","dependencies":[{"issue_id":"gno-zp2.14","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-29T01:32:44.206463+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.14","depends_on_id":"gno-zp2.5","type":"blocks","created_at":"2025-12-29T01:33:06.415917+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.2","title":"T12.1a: Quickstart docs (init -\u003e index -\u003e ask)","description":"Document 3-command quickstart. OS-specific paths. What gets created where. Multilingual note (default preset, best-effort tagging). Reference: docs/prd.md §5.2.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T14:52:03.001388+01:00","updated_at":"2025-12-29T01:30:35.166246+01:00","closed_at":"2025-12-29T01:30:35.166246+01:00","close_reason":"Replaced with comprehensive docs plan","dependencies":[{"issue_id":"gno-zp2.2","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-23T14:52:03.002503+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.3","title":"T12.2: Release automation, versioning, changelog","description":"Automated releases. Semantic versioning. Changelog generation. Reference: docs/prd.md §19.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T14:52:04.767482+01:00","updated_at":"2025-12-23T14:52:04.767482+01:00","dependencies":[{"issue_id":"gno-zp2.3","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-23T14:52:04.768895+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.4","title":"T12.3: Troubleshooting docs (native deps, caches, models)","description":"Document common issues: native dep friction, model downloads, cache locations, gno doctor usage. Reference: docs/prd.md §20.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T14:52:06.290122+01:00","updated_at":"2025-12-29T01:30:35.170633+01:00","closed_at":"2025-12-29T01:30:35.170633+01:00","close_reason":"Replaced with comprehensive docs plan","dependencies":[{"issue_id":"gno-zp2.4","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-23T14:52:06.291163+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.5","title":"D0: Deep codebase review for documentation","description":"# Plan: Deep Codebase Review for Documentation\n\n## Overview\nThorough code review before writing world-class docs. Output: `docs/NOTES.md` with architecture, design decisions, score normalization, models, and data flow diagrams.\n\n**Source-of-Truth Rule**: Specs (`spec/cli.md`, `spec/mcp.md`, `spec/output-schemas/*.json`) are authoritative contracts. `docs/NOTES.md` is implementation notes: how it's built, design rationale, code pointers, non-contractual details. Link to specs, don't duplicate.\n\n## Approach\n\n### Phase 1: Spec \u0026 Schema Review\nReview all specifications - these are THE source of truth:\n- `spec/cli.md` (25+ commands, 5 output formats, 3 exit codes, stdout/stderr rules)\n- `spec/mcp.md` (6 tools, 1 resource type)\n- `spec/output-schemas/*.json` (5 schemas) + `test/spec/schemas/*` contract tests\n- `spec/db/schema.sql` (9 tables)\n\nDocument interface invariants:\n- stdout vs stderr policies\n- exit code mapping (0=success, 1=error, 2=partial)\n- JSON schema validation + where contract tests live\n\n### Phase 2: Pipeline Deep Dive\nTrace query → results flow through hybrid search:\n- `src/pipeline/hybrid.ts:184-524` - Main orchestrator\n- `src/pipeline/search.ts` - BM25 + min-max normalization\n- `src/pipeline/vsearch.ts` - Vector + distance→similarity\n- `src/pipeline/fusion.ts` - RRF (k=60, weights, topRankBonus)\n- `src/pipeline/rerank.ts` - Position-aware blending tiers\n- `src/pipeline/expansion.ts` - Query expansion w/ language prompts\n- `src/pipeline/query-language.ts` - Language detection (franc)\n\n**Score Semantics** (critical section):\n- BM25 normalization is per-query (not comparable across queries)\n- Hybrid blending uses normalized fusion scores, clamped per-query\n- `--min-score` applies post-normalization\n- Tie-breaking: mirrorHash:seq determinism\n- Explicit formulas with file/line pointers\n\n### Phase 3: Storage Layer\nDocument SQLite adapter + sqlite-vec:\n- `src/store/sqlite/adapter.ts` - Core StorePort implementation\n- `src/store/vector/sqlite-vec.ts` - Per-model vec tables\n- Graceful degradation when sqlite-vec unavailable\n\n**Migrations \u0026 FTS mechanics**:\n- Migration runner behavior, `schema_meta` fields (version, fts_tokenizer)\n- FTS virtual table creation/rebuild triggers\n- `escapeFts5Query()` behavior (what queries are supported)\n- Tokenizer config immutability\n\n### Phase 4: Ingestion \u0026 Models\nDocument chunking, conversion, and model configuration:\n- `src/ingestion/chunker.ts:74-86` - 800 tokens, 15% overlap\n- `src/ingestion/language.ts` - CJK/European detection\n\n**Converter subsystem** (critical):\n- MIME detection → converter registry → canonical markdown\n- Canonical markdown rules (what changes `mirror_hash`)\n- converterId/converterVersion tracking\n- Failure modes: `ingest_errors`, `last_error_*` fields\n- Core invariant: \"search operates on mirror; identity refers to source\"\n\n**Model presets**:\n- `src/config/types.ts:170-195` - 3 presets (slim/balanced/quality)\n- `src/llm/registry.ts` - Preset resolution\n- Disk size only for models (RAM is workload-dependent, add disclaimer)\n\n### Phase 5: Write docs/NOTES.md\nCreate `docs/NOTES.md` with header: `Reviewed at commit: \u003chash\u003e`\n\nContents:\n1. Architecture overview (Mermaid for complex flows, ASCII for simple)\n2. Data flow: file → convert → chunk → embed → index\n3. Query flow: query → expansion → retrieval → fusion → rerank → results\n4. **Score Semantics**: normalization table, comparability rules, minScore behavior\n5. Model preset table (disk size, with RAM disclaimer)\n6. Key design decisions \u0026 rationale (link to specs, don't duplicate)\n7. Graceful degradation paths (explicit branches)\n8. Interface invariants (stdout/stderr, exit codes, schema refs)\n\n## Key References\n- `spec/cli.md:L1-928` - CLI contract (authoritative)\n- `spec/mcp.md:L1-538` - MCP contract (authoritative)\n- `spec/output-schemas/*.json` - Output schemas (authoritative)\n- `src/pipeline/types.ts:152-233` - RRF config, blending tiers\n- `src/ingestion/types.ts:66-78` - ChunkParams\n- `test/spec/schemas/*` - Contract tests\n\n## Acceptance Criteria\n- [ ] All spec files reviewed and cross-referenced (link, don't duplicate)\n- [ ] Score semantics section with comparability rules and formulas\n- [ ] Pipeline diagram (Mermaid for complex, ASCII for overview)\n- [ ] Model presets table (disk size; RAM disclaimer)\n- [ ] Graceful degradation paths as explicit branches\n- [ ] Converter/canonicalization subsystem documented\n- [ ] Migrations/FTS mechanics covered\n- [ ] NOTES.md includes \"Reviewed at commit: \u003chash\u003e\" header\n- [ ] NOTES.md contains required section headings (lintable)\n\n## Maintenance Policy\nUpdate NOTES.md when:\n- Pipeline scoring changes (src/pipeline/*)\n- Schema changes (spec/db/schema.sql, migrations)\n- Model presets change (src/config/types.ts)\n- Spec contracts change (spec/*.md)\n\nPRs touching these paths should trigger doc review.\n\n## Risks\n- Score thresholds may need code archaeology to explain \"why\"\n- Some edge cases need runtime verification\n- RAM requirements are workload-dependent (use disk size + disclaimer)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:31:39.996837+01:00","updated_at":"2025-12-29T02:06:23.738339+01:00","closed_at":"2025-12-29T02:06:23.738339+01:00","close_reason":"Deep codebase review complete. Created docs/NOTES.md documenting: architecture, ingestion/query flows, score semantics, model presets, design decisions, degradation paths, interface contracts.","dependencies":[{"issue_id":"gno-zp2.5","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-29T01:31:40.006047+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.5.1","title":"Review specs \u0026 schemas","description":"Review spec/cli.md, spec/mcp.md, spec/output-schemas/*.json, spec/db/schema.sql. Document interface invariants: stdout/stderr policies, exit codes (0/1/2), contract test locations (test/spec/schemas/*).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:44:35.688826+01:00","updated_at":"2025-12-29T02:02:55.10283+01:00","closed_at":"2025-12-29T02:02:55.10283+01:00","close_reason":"Reviewed spec/cli.md (25+ cmds, exit codes 0/1/2, 5 output formats), spec/mcp.md (6 tools, 1 resource), 12 output schemas, spec/db/schema.sql (10 tables). Contract tests use Ajv validator.","dependencies":[{"issue_id":"gno-zp2.5.1","depends_on_id":"gno-zp2.5","type":"parent-child","created_at":"2025-12-29T01:44:35.698651+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.5.2","title":"Pipeline deep dive","description":"Trace hybrid.ts orchestration. Document Score Semantics: BM25 per-query normalization, vector 1-dist/2, RRF k=60, blending tiers. Include formulas with file:line refs. Document comparability rules (scores NOT comparable across queries), minScore behavior, tie-breaking (mirrorHash:seq).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:44:36.68711+01:00","updated_at":"2025-12-29T02:03:37.829655+01:00","closed_at":"2025-12-29T02:03:37.829655+01:00","close_reason":"Traced hybrid.ts:184-524 orchestration. Score semantics: BM25 raw→min-max:29-52, Vector dist→1-dist/2:26-28, RRF k=60 weights 1.0:152-158, blending tiers:196-200, tie-break mirrorHash:seq:150-158. Scores NOT comparable across queries. minScore applied post-normalization:357-361.","dependencies":[{"issue_id":"gno-zp2.5.2","depends_on_id":"gno-zp2.5","type":"parent-child","created_at":"2025-12-29T01:44:36.692203+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.5.3","title":"Storage layer review","description":"Document SQLite adapter, sqlite-vec per-model tables, graceful degradation. Include: migration runner + schema_meta fields, FTS virtual table creation/rebuild, escapeFts5Query() behavior, tokenizer config immutability.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:44:38.082976+01:00","updated_at":"2025-12-29T02:04:09.839586+01:00","closed_at":"2025-12-29T02:04:09.839586+01:00","close_reason":"Reviewed adapter.ts (1180 LOC): migrations via runner.ts, FTS tokenizer in schema_meta, escapeFts5Query:48-59 quotes tokens, tokenizer immutable after creation. sqlite-vec.ts: per-model vec tables (vec_\u003chash8\u003e), graceful degradation (storage works w/o search), encodeEmbedding copies arraybuffer.","dependencies":[{"issue_id":"gno-zp2.5.3","depends_on_id":"gno-zp2.5","type":"parent-child","created_at":"2025-12-29T01:44:38.088667+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.5.4","title":"Ingestion \u0026 models review","description":"Document chunker (800 tokens, 15% overlap), language detection. Include converter subsystem: MIME→registry→canonical MD, mirror_hash rules, converterId/converterVersion, ingest_errors/last_error_* fields. Model presets: disk size only, RAM disclaimer.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:44:39.139018+01:00","updated_at":"2025-12-29T02:04:47.899484+01:00","closed_at":"2025-12-29T02:04:47.899484+01:00","close_reason":"Reviewed chunker.ts (800 tok * 4 chars = 3200 chars max, 15% overlap), language.ts (CJK 10% threshold, stop words for en/de/fr/it). Converters: registry.ts first-match wins, canonicalize.ts NFC+BOM+control strip+collapse blanks, mirrorHash SHA-256. Model presets: 1GB/2GB/2.5GB disk sizes.","dependencies":[{"issue_id":"gno-zp2.5.4","depends_on_id":"gno-zp2.5","type":"parent-child","created_at":"2025-12-29T01:44:39.143805+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.5.5","title":"Write docs/NOTES.md","description":"Create docs/NOTES.md with 'Reviewed at commit: \u003chash\u003e' header. Sections: (1) Architecture (Mermaid+ASCII), (2) Data flow, (3) Query flow, (4) Score Semantics w/ formulas, (5) Model presets (disk+RAM disclaimer), (6) Design decisions (link to specs), (7) Degradation paths, (8) Interface invariants.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:44:40.936103+01:00","updated_at":"2025-12-29T02:06:22.166384+01:00","closed_at":"2025-12-29T02:06:22.166384+01:00","close_reason":"Created docs/NOTES.md with architecture overview, data/query flows, score formulas, model presets, design decisions, degradation paths, interface invariants.","dependencies":[{"issue_id":"gno-zp2.5.5","depends_on_id":"gno-zp2.5","type":"parent-child","created_at":"2025-12-29T01:44:40.944434+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.5.5","depends_on_id":"gno-zp2.5.1","type":"blocks","created_at":"2025-12-29T01:44:49.290231+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.5.5","depends_on_id":"gno-zp2.5.2","type":"blocks","created_at":"2025-12-29T01:44:49.370044+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.5.5","depends_on_id":"gno-zp2.5.3","type":"blocks","created_at":"2025-12-29T01:44:49.445369+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.5.5","depends_on_id":"gno-zp2.5.4","type":"blocks","created_at":"2025-12-29T01:44:49.533857+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.6","title":"D1: README.md - Project landing page","description":"# D1: README.md - Project Landing Page\n\n## Resources\n- `docs/NOTES.md` §1 (Architecture diagram)\n- `docs/prd.md` §5.2 (Golden workflows), §4 (Key concepts), §6 (Principles)\n- `spec/cli.md` (command list)\n\n## Hero Concept\n\"An on-device search engine for everything you need to remember. Index your markdown notes, meeting transcripts, documentation, and knowledge bases. Search with keywords or natural language. Your AI assistant's gateway to YOUR knowledge.\"\n\n## Sections\n\n### 1. Hero + Badges\n\n### 2. What is GNO (2-3 sentences)\n- Hybrid search (BM25 + vector + LLM reranking) running locally\n- Designed for AI agent integration (Claude Code, Codex, Claude Desktop)\n- Privacy-first: everything stays on your machine\n\n### 3. Quick Start (from PRD §5.2)\n```sh\nbun install -g gno\ngno init ~/notes --name notes --pattern \"**/*.md\"\ngno index\ngno ask \"what did I write about productivity?\"\n```\n\n### 4. Search Modes Table\n| Command | Description | Use When |\n|---------|-------------|----------|\n| search  | BM25 keyword | Know exact terms |\n| vsearch | Vector semantic | Fuzzy concept |\n| query   | Hybrid + rerank | Best quality |\n| ask     | Hybrid + LLM answer | Want a summary |\n\n### 5. AI Agent Integration\n\n**Agents with shell access (Claude Code, Codex, Cursor):**\n```sh\n# Agent runs CLI with --json output:\ngno query \"authentication architecture\" --json -n 10\ngno search \"API design\" --all --files --min-score 0.3\ngno get \"docs/architecture.md\" --full --line-numbers\n```\n\n**Agents without shell access (Claude Desktop):**\n```json\n// Add to Claude Desktop config:\n{\n  \"mcpServers\": {\n    \"gno\": { \"command\": \"gno\", \"args\": [\"mcp\"] }\n  }\n}\n```\n\n**What this enables:**\n- \"Search my Obsidian vault for that idea about X\"\n- \"Find meeting notes about the Q4 launch\"\n- \"What code patterns do we use for error handling?\"\n- \"Get me the full auth spec document\"\n\n### 6. CLI Power User Examples\n```sh\n# Search within specific collection\ngno search \"API\" -c notes\n\n# Semantic search (can't remember exact words)\ngno vsearch \"that thing about deploying containers\"\n\n# Best quality hybrid with explanation\ngno query \"quarterly planning\" --explain\n\n# Get by path or docid\ngno get \"meetings/2024-01-15.md\"\ngno get \"#abc123\" --full\n\n# Pipe to other tools\ngno query \"error handling\" --all --files --min-score 0.4 | xargs cat\n```\n\n### 7. Key Concepts (from PRD §4)\nBrief: Collection, Source vs Mirror, gno:// URI, docid, Context\n\n### 8. Architecture (mini diagram from NOTES.md)\n\n### 9. Documentation Links\n\n### 10. License\n\n## Quality Checklist\n- [ ] Commands actually work when copy-pasted\n- [ ] Both CLI and MCP integration shown\n- [ ] Shows search → vsearch → query → ask progression\n- [ ] Real use cases, not toy examples","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-29T01:32:33.225496+01:00","updated_at":"2025-12-29T02:32:28.515659+01:00","dependencies":[{"issue_id":"gno-zp2.6","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-29T01:32:33.231095+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.6","depends_on_id":"gno-zp2.5","type":"blocks","created_at":"2025-12-29T01:33:05.108825+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.7","title":"D2: QUICKSTART.md - 5-minute getting started","description":"# D2: QUICKSTART.md - 5-Minute Getting Started\n\n## Resources\n- `docs/prd.md` §5.2 (Golden workflows)\n- `spec/cli.md` §commands\n\n## Goal\nZero to searching in 5 minutes. AI agent integration in 2 more.\n\n---\n\n## Part 1: Your First Search (3 minutes)\n\n### Install\n```sh\nbun install -g gno\n# or: npm install -g gno (requires Bun runtime)\n```\n\n### Index Your Notes\n```sh\n# Point GNO at your notes/docs\ngno init ~/notes --name notes --pattern \"**/*.md\"\n\n# Build the index (syncs files + generates embeddings)\ngno index\n```\n\n### Search!\n```sh\n# Keyword search (fast, exact matches)\ngno search \"project ideas\"\n\n# Semantic search (finds related concepts)\ngno vsearch \"productivity tips\"\n\n# Best quality (hybrid + reranking)\ngno query \"what should I focus on this quarter?\"\n\n# Get an actual answer\ngno ask \"summarize my notes about habits\"\n```\n\n---\n\n## Part 2: AI Agent Integration (2 minutes)\n\nAI assistants like Claude Code can now search YOUR knowledge.\n\n### How It Works\nClaude Code calls GNO via CLI with `--json` output:\n\n```sh\n# Agent searching your notes:\ngno query \"authentication patterns\" --json -n 10\n\n# Agent getting all matches above threshold:\ngno search \"API\" --all --files --min-score 0.3\n\n# Agent retrieving full document:\ngno get \"docs/spec.md\" --full --line-numbers\n```\n\n### What You Can Now Ask Claude\n- \"Search my notes for that architecture decision\"\n- \"Find all docs about the auth system\"\n- \"What did I write about testing strategies?\"\n- \"Get me the full content of the API spec\"\n\nClaude runs the CLI commands, reads the results, and answers with YOUR knowledge.\n\n### Optional: MCP Integration\nFor tighter integration in Claude Desktop:\n\nAdd to `~/.config/claude/claude_desktop_config.json`:\n```json\n{\n  \"mcpServers\": {\n    \"gno\": { \"command\": \"gno\", \"args\": [\"mcp\"] }\n  }\n}\n```\n\n---\n\n## What You Just Set Up\n- Local search engine for your markdown/text files\n- BM25 + vector hybrid search with LLM reranking\n- AI agent integration via CLI (or MCP)\n- Everything runs locally, nothing leaves your machine\n- Multilingual support (DE/FR/IT/EN) out of the box\n\n---\n\n## Next Steps\n- Add more collections: `gno collection add ~/work/docs --name docs`\n- Add context: `gno context add notes: \"Personal notes and ideas\"`\n- See all commands: `gno --help` or [CLI.md](CLI.md)\n- Real-world examples: [USE-CASES.md](USE-CASES.md)\n\n---\n\n## Common Gotcha (macOS)\nIf you get sqlite-vec errors:\n```sh\nbrew install sqlite\n```\nThen reinstall GNO.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-29T01:32:34.449835+01:00","updated_at":"2025-12-29T02:31:03.521135+01:00","dependencies":[{"issue_id":"gno-zp2.7","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-29T01:32:34.456101+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.7","depends_on_id":"gno-zp2.5","type":"blocks","created_at":"2025-12-29T01:33:05.281332+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.8","title":"D3: INSTALLATION.md - All install methods","description":"# D3: INSTALLATION.md - All Install Methods\n\n## Resources\n- `package.json` (dependencies, engines)\n- `src/store/sqlite/setup.ts` (native deps)\n- `docs/NOTES.md` §7 (Graceful Degradation)\n\n## Methods to Cover\n1. **bunx** (zero install): `bunx gno --help`\n2. **bun global**: `bun install -g gno`\n3. **npm global**: `npm install -g gno` (requires Bun runtime)\n4. **From source**: `git clone \u0026\u0026 bun install \u0026\u0026 bun run dev`\n\n## Platform-Specific Notes\n### macOS\n- sqlite-vec requires Homebrew sqlite: `brew install sqlite`\n- node-llama-cpp downloads models on first use\n\n### Linux\n- May need build tools for native deps\n- sqlite-vec prebuilds available for x64\n\n### Windows\n- Experimental, may have issues\n- Document known limitations\n\n## Sections\n1. Requirements (Bun \u003e= 1.0, platform notes)\n2. Quick Install (bunx or bun global)\n3. Verifying Installation (`gno doctor`)\n4. Platform-Specific Setup\n5. Troubleshooting (link to TROUBLESHOOTING.md)\n\n## Must Include\n- `gno doctor` output sample\n- Model download locations (~/.cache/gno/models)\n- Disk space requirements (model presets from NOTES.md §5)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-29T01:32:35.811077+01:00","updated_at":"2025-12-29T02:21:00.87214+01:00","dependencies":[{"issue_id":"gno-zp2.8","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-29T01:32:35.816525+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.8","depends_on_id":"gno-zp2.5","type":"blocks","created_at":"2025-12-29T01:33:05.446327+01:00","created_by":"daemon"}]}
{"id":"gno-zp2.9","title":"D4: ARCHITECTURE.md - How hybrid search works","description":"# D4: ARCHITECTURE.md - How Hybrid Search Works\n\n## Resources (READ ALL)\n- `docs/NOTES.md` - Primary source, copy/expand diagrams\n- `src/pipeline/hybrid.ts` - Main orchestrator\n- `src/pipeline/types.ts:152-200` - RRF config, blending tiers\n\n## Diagrams to Include (ASCII like QMD)\n1. **Ingestion Flow** (from NOTES.md §2)\n   - file → walker → converter → canonicalize → chunker → store\n\n2. **Hybrid Search Pipeline** (expand NOTES.md §3)\n   - Full QMD-style diagram showing:\n   - Query expansion (if enabled)\n   - Parallel BM25 + Vector retrieval\n   - RRF fusion with weights\n   - Reranking with position-aware blending\n   - Final scoring\n\n3. **Storage Layer** (from NOTES.md §1)\n   - SQLite tables, FTS5, sqlite-vec\n\n## Tables to Include\n1. **Score Normalization** (from NOTES.md §4)\n   | Backend | Raw Score | Conversion | Range |\n   |---------|-----------|------------|-------|\n   | BM25 | FTS5 bm25() | min-max | 0-1 |\n   | Vector | cosine distance | 1-dist/2 | 0-1 |\n   | Reranker | cross-encoder | clamped | 0-1 |\n\n2. **RRF Fusion** (from NOTES.md §4)\n   - k=60, weights, topRankBonus\n\n3. **Blending Schedule** (from NOTES.md §4)\n   | Position | Fusion | Rerank |\n   |----------|--------|--------|\n   | 1-3 | 75% | 25% |\n   | 4-10 | 60% | 40% |\n   | 11+ | 40% | 60% |\n\n4. **Score Interpretation** (like QMD)\n   | Score | Meaning |\n   |-------|---------|\n   | 0.8-1.0 | Highly relevant |\n   | etc... |\n\n## Sections\n1. Overview (what makes GNO different)\n2. Ingestion Pipeline (diagram + explanation)\n3. Search Pipeline (big diagram)\n4. Score Normalization \u0026 Fusion\n5. Graceful Degradation (from NOTES.md §7)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-29T01:32:37.565506+01:00","updated_at":"2025-12-29T02:21:20.405139+01:00","dependencies":[{"issue_id":"gno-zp2.9","depends_on_id":"gno-zp2","type":"parent-child","created_at":"2025-12-29T01:32:37.569557+01:00","created_by":"daemon"},{"issue_id":"gno-zp2.9","depends_on_id":"gno-zp2.5","type":"blocks","created_at":"2025-12-29T01:33:05.607668+01:00","created_by":"daemon"}]}
